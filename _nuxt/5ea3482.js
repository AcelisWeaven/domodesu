(window.webpackJsonp=window.webpackJsonp||[]).push([[5,4],{274:function(t,e){},276:function(t,e,n){"use strict";var l=n(2),r=n(72).find,o=n(131),c="find",d=!0;c in[]&&Array(1).find((function(){d=!1})),l({target:"Array",proto:!0,forced:d},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},304:function(t,e,n){"use strict";n.r(e);var l=n(260),r=(n(56),n(73),n(40),n(11),n(37),n(55),n(33),n(276),n(1)),o=n(277),c=r.a.extend({data:function(){return{followedStreams:[],followedUsers:[],refreshInterval:null,profilePictures:[],api:null,isSyncing:!1}},created:function(){var t=this.$auth.strategy.token.get().replace("Bearer ",""),e=new o.c({token:t,clientId:"your-twitch-client-id"});this.api=e.api,this.refresh()},destroyed:function(){null!==this.refreshInterval&&window.clearInterval(this.refreshInterval)},methods:{refresh:function(){var t,e,n=this;this.isSyncing||(this.isSyncing=!0,null===(t=this.api)||void 0===t||t.get("streams/followed",{search:{user_id:null===(e=this.$auth.user)||void 0===e?void 0:e.id}}).then((function(t){var e,l;n.followedStreams=t.data.map((function(s){return{id:s.userId,thumbnail:s.thumbnailUrl.replace("{width}","404").replace("{height}","227"),isLive:!0,displayName:s.userName,viewerCount:s.viewerCount}})),null===(e=n.api)||void 0===e||e.get("users/follows",{search:{from_id:null===(l=n.$auth.user)||void 0===l?void 0:l.id}}).then((function(t){n.followedUsers=t.data.filter((function(u){return!n.followedStreams.some((function(s){return s.displayName===u.toName}))})).map((function(u){return{id:u.toId,isLive:!1,displayName:u.toName,viewerCount:0}})),n.refreshProfilePictures()})).finally((function(){n.isSyncing=!1}))})).catch((function(){n.isSyncing=!1})))},refreshProfilePictures:function(){var t,e=this,n=[].concat(Object(l.a)(this.followedStreams),Object(l.a)(this.followedUsers)).map((function(t){return t.id})).filter((function(t){return!e.profilePictures.some((function(p){return p.id===t}))}));0!==n.length&&(null===(t=this.api)||void 0===t||t.get("users",{search:{id:n}}).then((function(t){t.data.forEach((function(t){e.profilePictures.push({id:t.id,picture:t.profileImageUrl})}))})))},getUserPicture:function(t){var e;return null===(e=this.profilePictures.find((function(p){return p.id===t})))||void 0===e?void 0:e.picture}}}),d=n(39),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[n("div",{staticClass:"text-center mb-4"},[n("div",{staticClass:"text-xl"},[t._v("Select a channel")]),t._v(" "),n("div",{staticClass:"font-bold text-sm tracking-wider uppercase"},[t._v("\n        "+t._s(t.followedStreams.length)+" online\n        "),n("button",{staticClass:"hover:text-purple-700",on:{click:t.refresh}},[n("font-awesome-icon",{class:{"fa-spin":t.isSyncing,"text-purple-500":t.isSyncing},attrs:{icon:"sync-alt"}})],1),t._v("\n        / "+t._s(t.followedUsers.length)+" offline\n      ")])]),t._v(" "),n("div",{staticClass:"\n        grid\n        gap-4\n        grid-cols-1\n        sm:grid-cols-2\n        md:grid-cols-3\n        lg:grid-cols-4\n      "},t._l(t.followedStreams,(function(e){return n("nuxt-link",{key:e.displayName,staticClass:"\n          flex flex-col\n          items-center\n          rounded-lg\n          shadow-lg\n          overflow-hidden\n          cursor-pointer\n          hover:opacity-80\n        ",attrs:{to:"/monitor?streamer="+e.displayName}},[e.thumbnail?n("img",{staticClass:"w-full",attrs:{src:e.thumbnail,width:"404",height:"227"}}):t._e(),t._v(" "),n("div",{staticClass:"flex items-center w-full"},[t.getUserPicture(e.id)?n("img",{staticClass:"mr-4 inline-flex flex-grow-0 h-16 w-16 bg-gray-100",attrs:{src:t.getUserPicture(e.id)}}):n("span",{staticClass:"mr-4 inline-flex h-16 w-16 bg-gray-100"}),t._v(" "),n("div",{staticClass:"flex flex-col"},[n("div",[e.isLive?n("span",{staticClass:"inline-flex relative h-3 w-3 mr-1"},[n("span",{staticClass:"\n                    animate-ping\n                    absolute\n                    inline-flex\n                    h-full\n                    w-full\n                    rounded-full\n                    bg-red-400\n                    opacity-75\n                  "}),t._v(" "),n("span",{staticClass:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]):t._e(),t._v(" "),n("span",{staticClass:"text-xl font-semibold"},[t._v("\n                "+t._s(e.displayName)+"\n              ")])]),t._v(" "),e.viewerCount>0?n("span",{staticClass:"font-light"},[t._v("\n              "+t._s(e.viewerCount)+" viewers\n            ")]):t._e()])])])})),1)]),t._v(" "),n("div",{staticClass:"my-8"},[n("div",{staticClass:"\n        grid\n        gap-4\n        grid-cols-1\n        md:grid-cols-2\n        lg:grid-cols-3\n        xl:grid-cols-4\n      "},t._l(t.followedUsers,(function(e){return n("nuxt-link",{key:e.displayName,staticClass:"\n          flex flex-row\n          items-center\n          rounded-lg\n          shadow-lg\n          overflow-hidden\n          cursor-pointer\n          hover:opacity-80\n        ",attrs:{to:"/monitor?streamer="+e.displayName}},[t.getUserPicture(e.id)?n("img",{staticClass:"inline h-16 w-16",attrs:{src:t.getUserPicture(e.id)}}):n("div",{staticClass:"h-16 w-16 bg-gray-100"}),t._v(" "),n("div",{staticClass:"my-2 mx-4"},[n("span",{staticClass:"text-xl font-semibold"},[t._v("\n            "+t._s(e.displayName)+"\n          ")])])])})),1)])])}),[],!1,null,null,null);e.default=component.exports},446:function(t,e,n){"use strict";n.r(e);var l=n(1).a.extend({}),r=n(39),component=Object(r.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my-8 mx-16 lg:mx-16"},[n("h1",{staticClass:"text-xl"},[t._v("\n    Welcome,\n    "),n("img",{staticClass:"h-8 w-8 inline rounded-full",attrs:{src:t.$auth.user.profilePicture,alt:t.$auth.user.name}}),t._v("\n    "+t._s(t.$auth.user.name)+"\n  ")]),t._v(" "),n("button",{staticClass:"\n      bg-purple-500\n      hover:bg-purple-700\n      text-white\n      font-bold\n      py-1\n      px-2\n      my-4\n      rounded\n      cursor-pointer\n    ",on:{click:function(e){t.$auth.logout()&&t.$router.push("/login")}}},[t._v("\n    Logout\n  ")]),t._v(" "),n("select-followed")],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{SelectFollowed:n(304).default})}}]);