(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(255).concat([function(t,e,r){var n=r(290),o="object"==typeof self&&self&&self.Object===Object&&self,c=n||o||Function("return this")();t.exports=c},function(t,e,r){var n=r(328),o=r(333);t.exports=function(object,t){var e=o(object,t);return n(e)?e:void 0}},function(t,e,r){var n=r(274),o=r(329),c=r(330),l=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":l&&l in Object(t)?o(t):c(t)}},function(t,e,r){var n=r(385);t.exports=function(t){return null==t?"":n(t)}},,function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){var n=r(273),o=r(298);t.exports=function(t){return null!=t&&o(t.length)&&!n(t)}},,,function(t,e,r){var n=r(256)(Object,"create");t.exports=n},function(t,e,r){var n=r(275);t.exports=function(t,e){for(var r=t.length;r--;)if(n(t[r][0],e))return r;return-1}},function(t,e,r){var n=r(345);t.exports=function(map,t){var data=map.__data__;return n(t)?data["string"==typeof t?"string":"hash"]:data.map}},function(t,e){var r=Array.isArray;t.exports=r},,,,,function(t,e,r){var n=r(257),o=r(261);t.exports=function(t){if(!o(t))return!1;var e=n(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,r){var n=r(255).Symbol;t.exports=n},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e){var r=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}},function(t,e,r){var n=r(407),o=r(261),c=r(303),l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,h=/^0o[0-7]+$/i,d=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(c(t))return NaN;if(o(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=o(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=n(t);var r=f.test(t);return r||h.test(t)?d(t.slice(2),r?2:8):l.test(t)?NaN:+t}},function(t,e,r){"use strict";var n,o=SyntaxError,c=Function,l=TypeError,f=function(t){try{return c('"use strict"; return ('+t+").constructor;")()}catch(t){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(t){h=null}var d=function(){throw new l},y=h?function(){try{return d}catch(t){try{return h(arguments,"callee").get}catch(t){return d}}}():d,v=r(441)(),_=Object.getPrototypeOf||function(t){return t.__proto__},m={},O="undefined"==typeof Uint8Array?n:_(Uint8Array),E={"%AggregateError%":"undefined"==typeof AggregateError?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?n:ArrayBuffer,"%ArrayIteratorPrototype%":v?_([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":m,"%AsyncGenerator%":m,"%AsyncGeneratorFunction%":m,"%AsyncIteratorPrototype%":m,"%Atomics%":"undefined"==typeof Atomics?n:Atomics,"%BigInt%":"undefined"==typeof BigInt?n:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?n:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?n:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?n:FinalizationRegistry,"%Function%":c,"%GeneratorFunction%":m,"%Int8Array%":"undefined"==typeof Int8Array?n:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?n:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":v?_(_([][Symbol.iterator]())):n,"%JSON%":"object"==typeof JSON?JSON:n,"%Map%":"undefined"==typeof Map?n:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&v?_((new Map)[Symbol.iterator]()):n,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?n:Promise,"%Proxy%":"undefined"==typeof Proxy?n:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?n:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?n:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&v?_((new Set)[Symbol.iterator]()):n,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":v?_(""[Symbol.iterator]()):n,"%Symbol%":v?Symbol:n,"%SyntaxError%":o,"%ThrowTypeError%":y,"%TypedArray%":O,"%TypeError%":l,"%Uint8Array%":"undefined"==typeof Uint8Array?n:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?n:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?n:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?n:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?n:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?n:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?n:WeakSet},S=function t(e){var r;if("%AsyncFunction%"===e)r=f("async function () {}");else if("%GeneratorFunction%"===e)r=f("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=f("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(r=_(o.prototype))}return E[e]=r,r},A={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},T=r(279),C=r(444),I=T.call(Function.call,Array.prototype.concat),N=T.call(Function.apply,Array.prototype.splice),w=T.call(Function.call,String.prototype.replace),R=T.call(Function.call,String.prototype.slice),x=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,P=/\\(\\)?/g,j=function(t){var e=R(t,0,1),r=R(t,-1);if("%"===e&&"%"!==r)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var n=[];return w(t,x,(function(t,e,r,o){n[n.length]=r?w(o,P,"$1"):e||t})),n},D=function(t,e){var r,n=t;if(C(A,n)&&(n="%"+(r=A[n])[0]+"%"),C(E,n)){var c=E[n];if(c===m&&(c=S(n)),void 0===c&&!e)throw new l("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:c}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new l("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new l('"allowMissing" argument must be a boolean');var r=j(t),n=r.length>0?r[0]:"",c=D("%"+n+"%",e),f=c.name,d=c.value,y=!1,v=c.alias;v&&(n=v[0],N(r,I([0,1],v)));for(var i=1,_=!0;i<r.length;i+=1){var m=r[i],O=R(m,0,1),S=R(m,-1);if(('"'===O||"'"===O||"`"===O||'"'===S||"'"===S||"`"===S)&&O!==S)throw new o("property names with quotes must have matching quotes");if("constructor"!==m&&_||(y=!0),C(E,f="%"+(n+="."+m)+"%"))d=E[f];else if(null!=d){if(!(m in d)){if(!e)throw new l("base intrinsic for "+t+" exists, but the property is not available.");return}if(h&&i+1>=r.length){var desc=h(d,m);d=(_=!!desc)&&"get"in desc&&!("originalValue"in desc.get)?desc.get:d[m]}else _=C(d,m),d=d[m];_&&!y&&(E[f]=d)}}return d}},function(t,e,r){"use strict";var n=r(443);t.exports=Function.prototype.bind||n},,function(t,e,r){"use strict";var n=String.prototype.replace,o=/%20/g,c="RFC1738",l="RFC3986";t.exports={default:l,formatters:{RFC1738:function(t){return n.call(t,o,"+")},RFC3986:function(t){return String(t)}},RFC1738:c,RFC3986:l}},,,,,function(t,e,r){"use strict";r.d(e,"a",(function(){return l}));var n=r(124);var o=r(166),c=r(90);function l(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||Object(o.a)(t)||Object(c.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,r){"use strict";r.d(e,"a",(function(){return Ce})),r.d(e,"b",(function(){return Yt}));var n=r(288),o=r.n(n),c=r(316),l=r.n(c),f=r(317),h=r.n(f),d=r(318),y=r.n(d),v=r(320),_=r.n(v),m=r(321),O=r.n(m),E=r(359),S=r.n(E),A=r(361),T=r.n(A),C=r(362),I=r.n(C),N=r(365),w=r(368),R=r.n(w),x=r(372),P=r.n(x),j=r(384),D=r.n(j),U=r(386),L=r.n(U),M=r(387),F=r.n(M),k=r(390),B=r.n(k),H=r(309),G=r.n(H),W=r(402),z=r.n(W),V=r(403),Y=r.n(V),J=r(404),$=r.n(J),K=r(405),Z=r.n(K);function Q(t,e){void 0===e&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var X,tt=(X=function(t,b){return(X=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,b){t.__proto__=b}||function(t,b){for(var p in b)b.hasOwnProperty(p)&&(t[p]=b[p])})(t,b)},function(t,b){function e(){this.constructor=t}X(t,b),t.prototype=null===b?Object.create(b):(e.prototype=b.prototype,new e)}),et=function(t){function e(e){var r,n,o,c=this.constructor,l=t.call(this,e)||this;return Object.defineProperty(l,"name",{value:c.name,enumerable:!1,configurable:!0}),r=l,n=c.prototype,(o=Object.setPrototypeOf)?o(r,n):r.__proto__=n,Q(l),l}return tt(e,t),e}(Error);var nt=r(409),ot=r.n(nt),it=r(277),st=r.n(it),at=r(412),ut=r.n(at),ct=r(413),lt=r.n(ct),ft=r(431),pt=r.n(ft),ht=r(273),yt=r.n(ht),vt=r(432),_t=r.n(vt),mt=r(436),Ot=r.n(mt),Et=r(437),bt=r.n(Et),St=r(438),gt=r(449),At=r.n(gt),b=function(t,e){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(t,e)};function Tt(t,e){function r(){this.constructor=t}b(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}var Ct,It,Nt,wt,Rt,xt,Pt,jt,Dt,Ut,Lt,Mt=function(){return(Mt=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function Ft(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function kt(t,e,r,n){return new(r||(r=Promise))((function(o,i){function s(t){try{u(n.next(t))}catch(t){i(t)}}function a(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}u((n=n.apply(t,e||[])).next())}))}function q(t,e){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=e.call(t,s)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}function Bt(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function Ht(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Bt(arguments[e]));return t}(Lt=Ct||(Ct={})).Helix="helix",Lt.Kraken="kraken",function(t){t.tags="twitch.tv/tags",t.commands="twitch.tv/commands",t.membership="twitch.tv/membership"}(It||(It={})),function(t){t.JOIN="JOIN",t.MODE="MODE",t.PART="PART",t.NAMES="353",t.NAMES_END="366"}(Nt||(Nt={})),function(t){t.CLEAR_CHAT="CLEARCHAT",t.GLOBALUSERSTATE="GLOBALUSERSTATE",t.PRIVATE_MESSAGE="PRIVMSG",t.ROOM_STATE="ROOMSTATE",t.USER_NOTICE="USERNOTICE",t.USER_STATE="USERSTATE"}(wt||(wt={})),function(t){t.WELCOME="001",t.PING="PING",t.PONG="PONG",t.WHISPER="WHISPER"}(Rt||(Rt={})),function(t){t.CLEAR_CHAT="CLEARCHAT",t.CLEAR_MESSAGE="CLEARMSG",t.HOST_TARGET="HOSTTARGET",t.NOTICE="NOTICE",t.RECONNECT="RECONNECT",t.ROOM_STATE="ROOMSTATE",t.USER_NOTICE="USERNOTICE",t.USER_STATE="USERSTATE"}(xt||(xt={})),function(t){t.WELCOME="001",t.PING="PING",t.PONG="PONG",t.RECONNECT="RECONNECT",t.WHISPER="PRIVMSG #jtv",t.JOIN="JOIN",t.MODE="MODE",t.PART="PART",t.NAMES="353",t.NAMES_END="366",t.CLEAR_CHAT="CLEARCHAT",t.CLEAR_MESSAGE="CLEARMSG",t.GLOBALUSERSTATE="GLOBALUSERSTATE",t.HOST_TARGET="HOSTTARGET",t.NOTICE="NOTICE",t.PRIVATE_MESSAGE="PRIVMSG",t.ROOM_STATE="ROOMSTATE",t.USER_NOTICE="USERNOTICE",t.USER_STATE="USERSTATE"}(Pt||(Pt={})),function(t){t.RAW="RAW",t.ALL="*",t.CONNECTED="CONNECTED",t.DISCONNECTED="DISCONNECTED",t.RECONNECT="RECONNECT",t.AUTHENTICATED="AUTHENTICATED",t.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",t.GLOBALUSERSTATE="GLOBALUSERSTATE",t.ERROR_ENCOUNTERED="ERROR_ENCOUNTERED",t.PARSE_ERROR_ENCOUNTERED="PARSE_ERROR_ENCOUNTERED",t.ANON_GIFT_PAID_UPGRADE="ANON_GIFT_PAID_UPGRADE",t.GIFT_PAID_UPGRADE="GIFT_PAID_UPGRADE",t.RAID="RAID",t.RESUBSCRIPTION="RESUBSCRIPTION",t.RITUAL="RITUAL",t.SUBSCRIPTION="SUBSCRIPTION",t.SUBSCRIPTION_GIFT="SUBSCRIPTION_GIFT",t.SUBSCRIPTION_GIFT_COMMUNITY="SUBSCRIPTION_GIFT_COMMUNITY",t.ROOM_MODS="ROOM_MODS",t.MOD_GAINED="MOD_GAINED",t.MOD_LOST="MOD_LOST",t.USER_BANNED="USER_BANNED",t.CHEER="CHEER",t.HOST_ON="HOST_ON",t.HOST_OFF="HOST_OFF",t.HOSTED="HOSTED",t.HOSTED_WITHOUT_VIEWERS="HOSTED/WITHOUT_VIEWERS",t.HOSTED_WITH_VIEWERS="HOSTED/WITH_VIEWERS",t.HOSTED_AUTO="HOSTED/AUTO"}(jt||(jt={})),function(t){t.BAN="ban",t.BLOCK="block",t.CLEAR="clear",t.COLOR="color",t.COMMERCIAL="commercial",t.DELETE="delete",t.EMOTE_ONLY="emoteonly",t.EMOTE_ONLY_OFF="emoteonlyoff",t.FOLLOWERS_ONLY="followers",t.FOLLOWERS_ONLY_OFF="followersoff",t.HELP="help",t.HOST="host",t.MARKER="marker",t.ME="me",t.MOD="mod",t.MODS="mods",t.R9K="r9kbeta",t.R9K_OFF="r9kbetaoff",t.RAID="raid",t.SLOW="slow",t.SLOW_OFF="slowoff",t.SUBSCRIBERS="subscribers",t.SUBSCRIBERS_OFF="subscribersoff",t.TIMEOUT="timeout",t.UNBAN="unban",t.UNBLOCK="unblock",t.UNHOST="unhost",t.UNMOD="unmod",t.UNRAID="unraid",t.UNVIP="unvip",t.VIP="vip",t.VIPS="vips",t.WHISPER="w"}(Dt||(Dt={})),function(t){t.ALREADY_BANNED="already_banned",t.ALREADY_EMOTE_ONLY_OFF="already_emote_only_off",t.ALREADY_EMOTE_ONLY_ON="already_emote_only_on",t.ALREADY_R9K_OFF="already_r9k_off",t.ALREADY_R9K_ON="already_r9k_on",t.ALREADY_SUBS_OFF="already_subs_off",t.ALREADY_SUBS_ON="already_subs_on",t.BAD_HOST_HOSTING="bad_host_hosting",t.BAD_MOD_MOD="bad_mod_mod",t.BAN_SUCCESS="ban_success",t.BAD_UNBAN_NO_BAN="bad_unban_no_ban",t.COLOR_CHANGED="color_changed",t.CMDS_AVAILABLE="cmds_available",t.COMMERCIAL_SUCCESS="commercial_success",t.EMOTE_ONLY_OFF="emote_only_off",t.EMOTE_ONLY_ON="emote_only_on",t.FOLLOWERS_OFF="followers_off",t.FOLLOWERS_ON="followers_on",t.FOLLOWERS_ONZERO="followers_onzero",t.HOST_OFF="host_off",t.HOST_ON="host_on",t.HOSTS_REMAINING="hosts_remaining",t.MSG_CHANNEL_SUSPENDED="msg_channel_suspended",t.MOD_SUCCESS="mod_success",t.NOT_HOSTING="not_hosting",t.R9K_OFF="r9k_off",t.R9K_ON="r9k_on",t.ROOM_MODS="room_mods",t.SLOW_OFF="slow_off",t.SLOW_ON="slow_on",t.SUBS_OFF="subs_off",t.SUBS_ON="subs_on",t.TIMEOUT_SUCCESS="timeout_success",t.UNBAN_SUCCESS="unban_success",t.UNMOD_SUCCESS="unmod_success",t.UNRAID_SUCCESS="unraid_success",t.UNRECOGNIZED_CMD="unrecognized_cmd"}(Ut||(Ut={}));Object.entries(Ut).reduce((function(t,e){var r,n=Bt(e,2),o=n[0],i=n[1];return Mt(Mt({},t),((r={})[o]=i.toUpperCase(),r))}),{});var Gt,Wt,zt=Object.keys(Ut).reduce((function(t,e){var r;return Mt(Mt({},t),((r={})[e]=e,r[Pt.NOTICE+"/"+e.toUpperCase()]=e,r))}),{});!function(t){t.CHEER="CHEER",t.HOSTED_WITHOUT_VIEWERS="HOSTED_WITHOUT_VIEWERS",t.HOSTED_WITH_VIEWERS="HOSTED_WITH_VIEWERS",t.HOSTED_AUTO="HOSTED_AUTO"}(Gt||(Gt={})),function(t){t.ANON_GIFT_PAID_UPGRADE="anongiftpaidupgrade",t.GIFT_PAID_UPGRADE="giftpaidupgrade",t.RAID="raid",t.RESUBSCRIPTION="resub",t.RITUAL="ritual",t.SUBSCRIPTION="sub",t.SUBSCRIPTION_GIFT="subgift",t.SUBSCRIPTION_GIFT_COMMUNITY="submysterygift"}(Wt||(Wt={}));var Vt,qt,rt=Object.keys(Wt).reduce((function(t,e){var r;return Mt(Mt({},t),((r={})[e]=e,r[Pt.USER_NOTICE+"/"+e]=e,r))}),{}),Yt=Mt(Mt(Mt(Mt(Mt(Mt(Mt(Mt({},Nt),wt),Rt),xt),jt),zt),Gt),rt);!function(t){t[t.admin=0]="admin",t[t.broadcaster=1]="broadcaster",t[t.globalMod=2]="globalMod",t[t.moderator=3]="moderator",t[t.partner=4]="partner",t[t.premium=5]="premium",t[t.staff=6]="staff",t[t.subGifter=7]="subGifter",t[t.turbo=8]="turbo",t[t.vip=9]="vip"}(Vt||(Vt={})),function(t){t[t.bits=0]="bits",t[t.bitsLeader=1]="bitsLeader",t[t.subscriber=2]="subscriber"}(qt||(qt={}));var Jt,$t=function(t){void 0===t&&(t={});var e=t.name,r=Ft(t,["name"]),n=["TwitchJS"].concat(e||[]).join("/"),o=S()(Mt({name:n,prettyPrint:!0,level:"info"},r));return o.profile=function(t){var e=Date.now();return t&&o.info(t),{done:function(t,r){var n=t+" ("+(Date.now()-e)+"ms)";r?o.error(n,r):o.info(n)}}},o},Kt=function(t){var e=new Date(parseInt(t,10));return"Invalid Date"!==e.toString()?e:new Date},Zt=function(t){return null==t?"TWITCHJS":t.startsWith("oauth:")?t:"oauth:"+t};!function(t){t.RAW="RAW",t.ALL="*",t.CONNECTED="CONNECTED",t.DISCONNECTED="DISCONNECTED",t.RECONNECT="RECONNECT",t.AUTHENTICATED="AUTHENTICATED",t.AUTHENTICATION_FAILED="AUTHENTICATION_FAILED",t.ERROR_ENCOUNTERED="ERROR_ENCOUNTERED"}(Jt||(Jt={}));var Qt,Xt,te,ee,re,ne=Mt(Mt({},Pt),Jt),oe=function(t){function e(e){var r=t.call(this)||this;r._clientPriority=100,r._options=function(t){var e,r={username:function(t){return $()(t)||G()(t)},token:function(t){return $()(t)||G()(t)},server:G.a,port:z.a,ssl:Y.a,isKnown:Y.a,isVerified:Y.a},n=B()(Mt(Mt({},t),{username:(e=t.username,P()(e)||"justinfan"===e?"justinfan"+Z()(8e4,81e3):e),token:t.token?Zt(t.token):void 0}),{server:"irc-ws.chat.twitch.tv",port:443,ssl:!0,isKnown:!1,isVerified:!1});return L()(F()(n,r),"[twitch-js/Chat/Client] options: Expected valid options"),n}(e);var n=r._options,o=n.ssl,i=n.server,s=n.port,c=n.log;r._log=$t(Mt({name:"Chat/Client"},c));var l=o?"wss":"ws";return r._ws=new T.a(l+"://"+i+":"+s),r._ws.onopen=r._handleOpen.bind(r),r._ws.onmessage=r._handleMessage.bind(r),r._ws.onerror=r._handleError.bind(r),r._ws.onclose=r._handleClose.bind(r),r._queueAuthenticate=r._options.isVerified?new I.a({intervalCap:200,interval:1e4}):new I.a({intervalCap:20,interval:1e4}),r._queueJoin=r._options.isVerified?new I.a({intervalCap:2e3,interval:1e4}):new I.a({intervalCap:20,interval:1e4}),r._queue=new I.a({intervalCap:20,interval:3e4}),r._moderatorQueue=new I.a({intervalCap:100,interval:3e4}),r}return Tt(e,t),e.prototype.isReady=function(){return 1===this._ws.readyState},e.prototype.send=function(t,e){return kt(this,void 0,void 0,(function(){var r,n,o,i=this;return q(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),r=Mt({priority:0,isModerator:!1},e),n=r.priority,o=r.isModerator,[4,(t.startsWith("JOIN")?this._queueJoin:t.startsWith("PASS")?this._queueAuthenticate:o&&this._moderatorQueue?this._moderatorQueue:this._queue).add((function(){return i._ws.send(t)}),{priority:n})];case 1:return s.sent(),this._log.trace("< "+t),[3,3];case 2:return s.sent(),this._log.error("< "+t),[3,3];case 3:return[2]}}))}))},e.prototype.disconnect=function(){var t,e;this._queueAuthenticate.pause(),this._queueJoin.pause(),this._queue.pause(),null===(t=this._moderatorQueue)||void 0===t||t.pause(),clearTimeout(this._queueAuthenticate._timeoutId),clearTimeout(this._queueJoin._timeoutId),clearTimeout(this._queue._timeoutId),clearTimeout(null===(e=this._moderatorQueue)||void 0===e?void 0:e._timeoutId),this._handleHeartbeatReset(),this._ws.close()},e.prototype._handleOpen=function(){var t=this._clientPriority;this.send("CAP REQ :"+Object.values(It).join(" "),{priority:t});var e=this._options,r=e.token,n=e.username;r&&n&&this.send("PASS "+r,{priority:t}),this.send("NICK "+n,{priority:t}),this._handleHeartbeat()},e.prototype._handleMessage=function(t){var e=this,r=t.data.toString();this._log.trace("> "+r.trim());var n=this._options,o=n.token,i=n.username,s=this._clientPriority;this._handleHeartbeat();var a=[];try{a=function(t,e){return void 0===e&&(e=""),t.split(/\r?\n/g).reduce((function(t,r){if(!r.length)return t;var n=Object(N.parse)(r),o=n.command,i=n.tags,s=void 0===i?{}:i,a=n.prefix,u=void 0===a?{name:void 0,user:void 0,host:void 0}:a,c=u.name,l=u.user,f=u.host,p=Bt(n.params,2),h=p[0],d=p[1],y=String(s["tmi-sent-ts"])||Date.now().toString(),v=P()(s)?{}:R()(s),_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.reduce((function(t,e){return"string"!=typeof e?t:"tmi.twitch.tv"===e?"tmi.twitch.tv":D()(e).split(".")[0]}),void 0)}(f,c,l,v.login,v.username,v.displayName);return Ht(t,[{_raw:r,timestamp:Kt(y),command:o,event:o,channel:"*"!==h?h:"",username:_,isSelf:"string"==typeof _&&D()(e)===_,tags:v,message:d}])}),[])}(r,this._options.username)}catch(t){this._log.error("\nAn error occurred while attempting to parse a message from Twitch. Please use the following stack trace and raw message to resolve the bug in the TwitchJS source code, and then issue a pull request at https://github.com/twitch-js/twitch-js/compare\n\nStack trace:\n"+t+"\n\nRaw message:\n"+r),this.emit(ne.ERROR_ENCOUNTERED,t)}a.forEach((function(t){var r=t.command||"";e._log.debug(Mt(Mt({},t),{_raw:void 0}),"> %s",r),function(t){return void 0!==t&&t.command===Pt.NOTICE&&""===t.channel&&"Login authentication failed"===t.message}(t)?(e._multiEmit([ne.ALL,ne.AUTHENTICATION_FAILED],Mt(Mt({},t),{event:ne.AUTHENTICATION_FAILED})),e.disconnect()):t.command===Pt.PING?e.send("PONG :tmi.twitch.tv",{priority:s}):o||t.command!==Pt.WELCOME?t.command===Pt.GLOBALUSERSTATE?(e._multiEmit([ne.ALL,ne.GLOBALUSERSTATE],Mt(Mt({},t),{event:ne.GLOBALUSERSTATE})),o&&i&&e._multiEmit([ne.ALL,ne.CONNECTED],Mt(Mt({},t),{event:ne.CONNECTED}))):t.command===Pt.RECONNECT?e._multiEmit([ne.ALL,ne.RECONNECT],Mt(Mt({},t),{event:ne.RECONNECT})):e.emit(ne.ALL,t):e._multiEmit([ne.ALL,ne.CONNECTED],Mt(Mt({},t),{event:ne.CONNECTED}))})),this.emit(ne.RAW,r)},e.prototype._handleError=function(t){this._log.error(t)},e.prototype._handleClose=function(t){this.emit(ne.DISCONNECTED)},e.prototype._handleHeartbeat=function(){var t=this;this._handleHeartbeatReset();var e=this._clientPriority;this._heartbeatTimeoutId=setTimeout((function(){t.send(Pt.PING,{priority:e})}),15e4),this._reconnectTimeoutId=setTimeout((function(){t.emit(ne.RECONNECT)}),151e3)},e.prototype._handleHeartbeatReset=function(){this._heartbeatTimeoutId&&clearTimeout(this._heartbeatTimeoutId),this._reconnectTimeoutId&&clearTimeout(this._reconnectTimeoutId)},e.prototype._multiEmit=function(t,e){var r=this;Array.isArray(t)?t.forEach((function(t){return r.emit(t,e)})):this.emit(t,e)},e}(o.a),dt=function(t){function e(e){var r=t.call(this,e)||this;return r.timestamp=new Date,r.message="[TwitchJS] "+e,r}return Tt(e,t),e}(et),ie=function(t){function e(r,n){var o=t.call(this,(r instanceof Error?r.message:r)+" [Chat]")||this;return Object.setPrototypeOf(o,e.prototype),void 0!==n&&"string"!=typeof n&&(o.command=n.command),o}return Tt(e,t),e}(dt),se=function(t){function e(r,n){var o=t.call(this,"Authentication error encountered",n)||this;return Object.setPrototypeOf(o,e.prototype),Object.assign(o,r),Object.assign(o,n),o}return Tt(e,t),e}(ie),ae=(function(t){Tt((function e(r,n){var o=t.call(this,"Parse error encountered")||this;return Object.setPrototypeOf(o,e.prototype),Object.assign(o,r),o._raw=n,o.command=jt.PARSE_ERROR_ENCOUNTERED,o}),t)}(ie),function(t){Tt((function e(r){void 0===r&&(r="Error: join");var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}),t)}(ie),function(t){Tt((function e(r){void 0===r&&(r="Error: timeout");var n=t.call(this,r)||this;return Object.setPrototypeOf(n,e.prototype),n}),t)}(ie),new RegExp("^msgParam(\\w+)")),ue=/:.+@jtv\.tmi\.twitch\.tv PRIVMSG #?(\w+) :(\w+) is now (?:(auto) )?hosting[A-z ]+(\d+)?/,ce=function(t){return"string"==typeof t?pt()(t,/\\[sn]/g," "):void 0},le=function(t){var e=parseInt(t,10);return z()(e)?e:void 0},fe=function(t){return"1"===t},pe=function(t){return Bt(t.split(": "),2)[1].split(", ")},he=function(t){return Object.entries(t).reduce((function(t,e){var r,n,o,i,s,a,u=Bt(e,2),c=u[0],l=u[1];switch(c){case"followersOnly":return Mt(Mt({},t),((r={})[c]=0===(a=parseInt(l,10))||a>0&&a,r));case"broadcasterLang":return Mt(Mt({},t),((n={})[c]=ce(l),n));case"slow":return Mt(Mt({},t),((o={})[c]=le(l),o));case"emoteOnly":case"r9k":case"subsOnly":return Mt(Mt({},t),((i={})[c]=fe(l),i));default:return Mt(Mt({},t),((s={})[c]=l,s))}}),{})},de=function(t){return Mt(Mt({},t),{badges:(o=t.badges,"string"==typeof o?o.split(",").reduce((function(t,e){var r,n,o,i=Bt(e.split("/"),2),s=i[0],a=i[1];if(void 0===a)return t;var u=lt()(s);return Mt(Mt({},t),u in Vt?((r={})[u]=fe(a),r):u in qt?((n={})[u]=parseInt(a,10),n):((o={})[u]=a,o))}),{}):{}),bits:le(t.bits),color:t.color,displayName:t.displayName,emotes:(n=t.emotes,"string"!=typeof n?[]:n.split("/").reduce((function(t,e){var r=Bt(e.split(":"),2),n=r[0],o=r[1];return n?Ht(t,o.split(",").map((function(t){var e=Bt(t.split("-"),2),r=e[0],o=e[1];return{id:n,start:parseInt(r,10),end:parseInt(o,10)}}))):t}),[])),emoteSets:(r=t.emoteSets,"string"==typeof r?r.split(","):[]),userType:(e=t.userType,"string"==typeof e?e:void 0),username:t.displayName?D()(t.displayName):t.username,isModerator:"1"===t.mod});var e,r,n,o},ye=function(t){return Mt(Mt({},t),de(t))},ve=de,_e=function(t){var e,r=t.tags,n=Ft(t,["tags"]),o=void 0!==(e=t)&&e.command===Pt.NOTICE&&""===e.channel&&"Login authentication failed"===e.message?Mt(Mt({},r),{msgId:D()(Yt.AUTHENTICATION_FAILED)}):r,i=ut()(o.msgId);switch(o.msgId){case Ut.ROOM_MODS:return Mt(Mt({},n),{command:Pt.NOTICE,event:zt.ROOM_MODS,tags:o,mods:pe(n.message)});default:return Mt(Mt({},n),{command:Pt.NOTICE,event:i,tags:o})}},me=function(t){var e=t.tags,r=Ft(t,["tags"]);return Mt(Mt({},r),{command:Pt.USER_STATE,event:Pt.USER_STATE,tags:de(e)})},Oe=function(t){var e=Pt.USER_NOTICE,r=Mt(Mt({},ve(t.tags)),{systemMsg:ce(t.tags.systemMsg)}),n=ce(t.tags.systemMsg)||"",o=function(t){return Object.entries(t).reduce((function(t,e){var r,n,o=Bt(e,2),i=o[0],s=o[1],a=Bt(ae.exec(i)||[],2)[1];switch(a){case"Months":case"MassGiftCount":case"PromoGiftTotal":case"SenderCount":case"ViewerCount":return Mt(Mt({},t),((r={})[lt()(a)]=le(s),r));case void 0:return t;default:return Mt(Mt({},t),((n={})[lt()(a)]=ce(s),n))}}),{})}(r);switch(r.msgId){case Wt.ANON_GIFT_PAID_UPGRADE:return Mt(Mt({},t),{command:e,event:jt.ANON_GIFT_PAID_UPGRADE,parameters:o,tags:r,systemMessage:n});case Wt.GIFT_PAID_UPGRADE:return Mt(Mt({},t),{command:e,event:jt.GIFT_PAID_UPGRADE,parameters:o,tags:r,systemMessage:n});case Wt.RAID:return Mt(Mt({},t),{command:e,event:jt.RAID,parameters:o,tags:r,systemMessage:n});case Wt.RESUBSCRIPTION:return Mt(Mt({},t),{command:e,event:jt.RESUBSCRIPTION,parameters:o,tags:r,systemMessage:n});case Wt.RITUAL:return Mt(Mt({},t),{command:e,event:jt.RITUAL,parameters:o,tags:r,systemMessage:n});case Wt.SUBSCRIPTION_GIFT_COMMUNITY:return Mt(Mt({},t),{command:e,event:jt.SUBSCRIPTION_GIFT_COMMUNITY,parameters:o,tags:r,systemMessage:n});case Wt.SUBSCRIPTION_GIFT:return Mt(Mt({},t),{command:e,event:jt.SUBSCRIPTION_GIFT,parameters:o,tags:r,systemMessage:n});case Wt.SUBSCRIPTION:return Mt(Mt({},t),{command:e,event:jt.SUBSCRIPTION,parameters:o,tags:r,systemMessage:n});default:return Mt(Mt({},t),{command:e,event:ut()(r.msgId),tags:r,parameters:o,systemMessage:n})}},Ee=function(t){return"string"!=typeof t||0===t.length?"":(t=t.toLowerCase()).startsWith("#")?t:"#"+t},be=function(t){return null==t?"TWITCHJS":t.startsWith("oauth:")?t:"oauth:"+t},Se=function(t){var e,r={username:function(t){return $()(t)||G()(t)},token:function(t){return $()(t)||G()(t)},isKnown:Y.a,isVerified:Y.a,connectionTimeout:z.a,joinTimeout:z.a,onAuthenticationFailure:yt.a},n=B()(Mt(Mt({},t),{username:t.username?(e=t.username,P()(e)||"justinfan"===e?"justinfan"+Z()(8e4,81e3):e):void 0,token:t.token?be(t.token):void 0}),{isKnown:!1,isVerified:!1,connectionTimeout:5e3,joinTimeout:1e3,onAuthenticationFailure:function(){return Promise.reject()}});return L()(F()(n,r),"[twitch-js/Chat] options: Expected valid options"),n},ge=function(t){if(!(t=Ee(t)))throw new Error("Channel required");return t};!function(t){t[t.WAITING=0]="WAITING",t[t.CONNECTING=1]="CONNECTING",t[t.RECONNECTING=2]="RECONNECTING",t[t.CONNECTED=3]="CONNECTED",t[t.DISCONNECTING=4]="DISCONNECTING",t[t.DISCONNECTED=5]="DISCONNECTED"}(Qt||(Qt={})),function(t){t.ALREADY_BANNED="NOTICE/ALREADY_BANNED",t.ALREADY_EMOTE_ONLY_OFF="NOTICE/ALREADY_EMOTE_ONLY_OFF",t.ALREADY_EMOTE_ONLY_ON="NOTICE/ALREADY_EMOTE_ONLY_ON",t.ALREADY_R9K_OFF="NOTICE/ALREADY_R9K_OFF",t.ALREADY_R9K_ON="NOTICE/ALREADY_R9K_ON",t.ALREADY_SUBS_OFF="NOTICE/ALREADY_SUBS_OFF",t.ALREADY_SUBS_ON="NOTICE/ALREADY_SUBS_ON",t.BAD_HOST_HOSTING="NOTICE/BAD_HOST_HOSTING",t.BAD_MOD_MOD="NOTICE/BAD_MOD_MOD",t.BAN_SUCCESS="NOTICE/BAN_SUCCESS",t.BAD_UNBAN_NO_BAN="NOTICE/BAD_UNBAN_NO_BAN",t.COLOR_CHANGED="NOTICE/COLOR_CHANGED",t.CMDS_AVAILABLE="NOTICE/CMDS_AVAILABLE",t.COMMERCIAL_SUCCESS="NOTICE/COMMERCIAL_SUCCESS",t.EMOTE_ONLY_OFF="NOTICE/EMOTE_ONLY_OFF",t.EMOTE_ONLY_ON="NOTICE/EMOTE_ONLY_ON",t.FOLLOWERS_OFF="NOTICE/FOLLOWERS_OFF",t.FOLLOWERS_ON="NOTICE/FOLLOWERS_ON",t.FOLLOWERS_ONZERO="NOTICE/FOLLOWERS_ONZERO",t.HOST_OFF="NOTICE/HOST_OFF",t.HOST_ON="NOTICE/HOST_ON",t.HOSTS_REMAINING="NOTICE/HOSTS_REMAINING",t.MSG_CHANNEL_SUSPENDED="NOTICE/MSG_CHANNEL_SUSPENDED",t.MOD_SUCCESS="NOTICE/MOD_SUCCESS",t.NOT_HOSTING="NOTICE/NOT_HOSTING",t.R9K_OFF="NOTICE/R9K_OFF",t.R9K_ON="NOTICE/R9K_ON",t.ROOM_MODS="NOTICE/ROOM_MODS",t.SLOW_OFF="NOTICE/SLOW_OFF",t.SLOW_ON="NOTICE/SLOW_ON",t.SUBS_OFF="NOTICE/SUBS_OFF",t.SUBS_ON="NOTICE/SUBS_ON",t.TIMEOUT_SUCCESS="NOTICE/TIMEOUT_SUCCESS",t.UNBAN_SUCCESS="NOTICE/UNBAN_SUCCESS",t.UNMOD_SUCCESS="NOTICE/UNMOD_SUCCESS",t.UNRAID_SUCCESS="NOTICE/UNRAID_SUCCESS",t.UNRECOGNIZED_CMD="NOTICE/UNRECOGNIZED_CMD"}(Xt||(Xt={})),function(t){t.CHEER="PRIVMSG/CHEER",t.HOSTED_WITHOUT_VIEWERS="PRIVMSG/HOSTED_WITHOUT_VIEWERS",t.HOSTED_WITH_VIEWERS="PRIVMSG/HOSTED_WITH_VIEWERS",t.HOSTED_AUTO="PRIVMSG/HOSTED_AUTO"}(te||(te={})),function(t){t.ANON_GIFT_PAID_UPGRADE="USERNOTICE/ANON_GIFT_PAID_UPGRADE",t.GIFT_PAID_UPGRADE="USERNOTICE/GIFT_PAID_UPGRADE",t.RAID="USERNOTICE/RAID",t.RESUBSCRIPTION="USERNOTICE/RESUBSCRIPTION",t.RITUAL="USERNOTICE/RITUAL",t.SUBSCRIPTION="USERNOTICE/SUBSCRIPTION",t.SUBSCRIPTION_GIFT="USERNOTICE/SUBSCRIPTION_GIFT",t.SUBSCRIPTION_GIFT_COMMUNITY="USERNOTICE/SUBSCRIPTION_GIFT_COMMUNITY"}(ee||(ee={}));var Ae,Te,Ce=function(t){function s(e){var r=t.call(this)||this;return r._readyState=Qt.WAITING,r._connectionAttempts=0,r._channelState={},r._isAuthenticated=!1,r._options=Se(e),r._log=$t(Mt({name:"Chat"},r._options.log)),r}return Tt(s,t),s.prototype.connect=function(){return kt(this,void 0,void 0,(function(){var t,e;return q(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,7]),this._readyState=Qt.CONNECTING,this._connectionInProgress?[2,this._connectionInProgress]:(t=this,[4,_()(this._handleConnectionAttempt(),this._options.connectionTimeout)]);case 1:return t._connectionInProgress=r.sent(),this._readyState=Qt.CONNECTED,this._connectionAttempts=0,[3,7];case 2:return e=r.sent(),this._readyState===Qt.DISCONNECTING||this._readyState===Qt.DISCONNECTED?[3,5]:(this._log.info("Retrying ..."),[4,l()(this._options.connectionTimeout)]);case 3:return r.sent(),[4,this._handleAuthenticationFailure()];case 4:return r.sent(),[2,this.connect()];case 5:throw e;case 6:return[3,7];case 7:return[2]}}))}))},s.prototype.updateOptions=function(t){var e=this._options,r=e.token,n=e.username;this._options=Se(Mt(Mt({},t),{token:r,username:n}))},s.prototype.send=function(t,e){if(!this._client)throw new ie("Not connected");return this._client.send(t,e)},s.prototype.disconnect=function(){var t;this._readyState=Qt.DISCONNECTING,null===(t=this._client)||void 0===t||t.disconnect(),this._readyState=Qt.DISCONNECTED},s.prototype.reconnect=function(t){return kt(this,void 0,void 0,(function(){var e,r=this;return q(this,(function(n){switch(n.label){case 0:return t&&(this._options=Se(Mt(Mt({},this._options),t))),this._connectionInProgress=void 0,this._readyState=Qt.RECONNECTING,e=this._getChannels(),this.disconnect(),[4,this.connect()];case 1:return n.sent(),[2,Promise.all(e.map((function(t){return r.join(t)})))]}}))}))},s.prototype.join=function(t){return kt(this,void 0,void 0,(function(){var e,r,n,i,s;return q(this,(function(a){switch(a.label){case 0:return t=ge(t),e=this._log.profile("Joining "+t),[4,Promise.all([y()(this,Pt.ROOM_STATE+"/"+t),this._isAuthenticated?y()(this,Pt.USER_STATE+"/"+t):void 0,this.send(Pt.JOIN+" "+t)])];case 1:return r=Bt.apply(void 0,[a.sent(),2]),n=r[0],i=r[1],s={roomState:n.tags,userState:i?i.tags:void 0},this._setChannelState(n.channel,s),e.done("Joined "+t),[2,s]}}))}))},s.prototype.part=function(t){return t=ge(t),this._log.info("Parting "+t),this._removeChannelState(t),this.send(Pt.PART+" "+t)},s.prototype.say=function(t,e,r){var n,i;return void 0===r&&(r={}),kt(this,void 0,void 0,(function(){var s,a,u;return q(this,(function(o){switch(o.label){case 0:if(!this._isAuthenticated)throw new ie("To send messages, please connect with a token and username");return t=ge(t),s=e.startsWith("/"),a="1"===(null===(i=null===(n=this._channelState[t])||void 0===n?void 0:n.userState)||void 0===i?void 0:i.mod),s?this._log.info("CMD/"+t+" :"+e):this._log.info("PRIVMSG/"+t+" :"+e),u=s?Promise.resolve():y()(this,Pt.USER_STATE+"/"+t),[4,Promise.all([u,this.send(Pt.PRIVATE_MESSAGE+" "+t+" :"+e,Mt({isModerator:a},r))])];case 1:return o.sent(),[2]}}))}))},s.prototype.broadcast=function(t){return kt(this,void 0,void 0,(function(){var e=this;return q(this,(function(r){if(!this._isAuthenticated)throw new ie("To broadcast, please connect with a token and username");return[2,this._getChannels().map((function(r){return e.say(r,t)}))]}))}))},s.prototype.ban=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.BAN+" "+e,[4,Promise.all([y()(this,[Xt.BAN_SUCCESS+"/"+t,Xt.ALREADY_BANNED+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.block=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){return t=ge(t),r="/"+Dt.BLOCK+" "+e,[2,this.say(t,r)]}))}))},s.prototype.delete=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){return t=ge(t),r="/"+Dt.DELETE+" "+e,[2,this.say(t,r)]}))}))},s.prototype.clear=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.CLEAR,[4,Promise.all([y()(this,[Pt.CLEAR_CHAT+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.color=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.COLOR+" "+e,[4,Promise.all([y()(this,[Xt.COLOR_CHANGED+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.commercial=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.COMMERCIAL+" "+e,[4,Promise.all([y()(this,[Xt.COMMERCIAL_SUCCESS+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.emoteOnly=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.EMOTE_ONLY,[4,Promise.all([y()(this,[Xt.EMOTE_ONLY_ON+"/"+t,Xt.ALREADY_EMOTE_ONLY_ON+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.emoteOnlyOff=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.EMOTE_ONLY_OFF,[4,Promise.all([y()(this,[Xt.EMOTE_ONLY_OFF+"/"+t,Xt.ALREADY_EMOTE_ONLY_OFF+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.followersOnly=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.FOLLOWERS_ONLY+" "+e,[4,Promise.all([y()(this,[Xt.FOLLOWERS_ONZERO+"/"+t,Xt.FOLLOWERS_ON+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.followersOnlyOff=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.FOLLOWERS_ONLY_OFF,[4,Promise.all([y()(this,[Xt.FOLLOWERS_OFF+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.help=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.HELP,[4,Promise.all([y()(this,[Xt.CMDS_AVAILABLE+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.host=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.HOST+" "+e,[4,Promise.all([y()(this,[Xt.HOST_ON+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.marker=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){return t=ge(t),r="/"+Dt.MARKER+" "+e.slice(0,140),[2,this.say(t,r)]}))}))},s.prototype.me=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){return t=ge(t),r="/"+Dt.ME+" "+e,[2,this.say(t,r)]}))}))},s.prototype.mod=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.MOD+" "+e,[4,Promise.all([y()(this,[Xt.MOD_SUCCESS+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.mods=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.MODS,[4,Promise.all([y()(this,[Xt.ROOM_MODS+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.r9K=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.R9K,[4,Promise.all([y()(this,[Xt.R9K_ON+"/"+t,Xt.ALREADY_R9K_ON+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.r9KOff=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.R9K_OFF,[4,Promise.all([y()(this,[Xt.R9K_OFF+"/"+t,Xt.ALREADY_R9K_OFF+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.raid=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){return t=ge(t),r="/"+Dt.RAID+" "+e,[2,this.say(t,r)]}))}))},s.prototype.slow=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.SLOW+" "+e,[4,Promise.all([y()(this,[Xt.SLOW_ON+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.slowOff=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.SLOW_OFF,[4,Promise.all([y()(this,[Xt.SLOW_OFF+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.subscribers=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.SUBSCRIBERS,[4,Promise.all([y()(this,[Xt.SUBS_ON+"/"+t,Xt.ALREADY_SUBS_ON+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.subscribersOff=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.SUBSCRIBERS_OFF,[4,Promise.all([y()(this,[Xt.SUBS_OFF+"/"+t,Xt.ALREADY_SUBS_OFF+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.timeout=function(t,e,r){return kt(this,void 0,void 0,(function(){var n,i;return q(this,(function(a){switch(a.label){case 0:return t=ge(t),n=r?" "+r:"",i="/"+Dt.TIMEOUT+" "+e+n,[4,Promise.all([y()(this,[Xt.TIMEOUT_SUCCESS+"/"+t]),this.say(t,i)])];case 1:return[2,Bt.apply(void 0,[a.sent(),1])[0]]}}))}))},s.prototype.unban=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.UNBAN+" "+e,[4,Promise.all([y()(this,[Xt.UNBAN_SUCCESS+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.unblock=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){return t=ge(t),r="/"+Dt.UNBLOCK+" "+e,[2,this.say(t,r)]}))}))},s.prototype.unhost=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.UNHOST,[4,Promise.all([y()(this,[Xt.HOST_OFF+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.unmod=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(i){switch(i.label){case 0:return t=ge(t),r="/"+Dt.UNMOD+" "+e,[4,Promise.all([y()(this,[Xt.UNMOD_SUCCESS+"/"+t]),this.say(t,r)])];case 1:return[2,Bt.apply(void 0,[i.sent(),1])[0]]}}))}))},s.prototype.unraid=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t=ge(t),e="/"+Dt.UNRAID,[4,Promise.all([y()(this,[Xt.UNRAID_SUCCESS+"/"+t]),this.say(t,e)])];case 1:return[2,Bt.apply(void 0,[r.sent(),1])[0]]}}))}))},s.prototype.unvip=function(t,e){t=ge(t);var r="/"+Dt.UNVIP+" "+e;return this.say(t,r)},s.prototype.vip=function(t,e){t=ge(t);var r="/"+Dt.VIP+" "+e;return this.say(t,r)},s.prototype.vips=function(t){t=ge(t);var e="/"+Dt.VIPS;return this.say(t,e)},s.prototype.whisper=function(t,e){return kt(this,void 0,void 0,(function(){var r;return q(this,(function(n){if(!this._isAuthenticated)throw new ie("To whisper, please connect with a token and username");return r="/"+Dt.WHISPER+" "+t+" "+e,[2,this.send(r)]}))}))},s.prototype._handleConnectionAttempt=function(){var t=this;return new h.a((function(e,r){var n=t._log.profile("Connecting ..."),o=t._options,i=o.token,s=o.username;t._readyState=Qt.CONNECTING,t._connectionAttempts+=1,t._client&&t._client.removeAllListeners(),t._client=new oe(t._options),t._client.on(ne.DISCONNECTED,t._handleDisconnect,t),t._client.once(ne.RECONNECT,(function(){return t.reconnect()})),t._client.once(ne.AUTHENTICATION_FAILED,r),t._client.once(ne.CONNECTED,(function(r){i&&s&&t._handleAuthenticated(r),t._handleJoinsAfterConnect(),e(),n.done("Connected")})),t._client.on(ne.ALL,t._handleMessage,t)}))},s.prototype._handleDisconnect=function(){this._log.info("Disconnecting ..."),this._connectionInProgress&&this._connectionInProgress.clear(),this._connectionInProgress=void 0,this._isAuthenticated=!1,this._clearChannelState(),this._log.info("Disconnected")},s.prototype._handleAuthenticated=function(t){var e,r,n,o=(r=(e=t).tags,n=Ft(e,["tags"]),Mt(Mt({},n),{command:Pt.GLOBALUSERSTATE,event:Pt.GLOBALUSERSTATE,tags:ye(r)}));this._globalUserState=o.tags,this._isAuthenticated=!0},s.prototype._handleAuthenticationFailure=function(){var t,e;return kt(this,void 0,void 0,(function(){var r,n;return q(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),this._log.info("Retrying ..."),[4,null===(e=(t=this._options).onAuthenticationFailure)||void 0===e?void 0:e.call(t)];case 1:return(r=o.sent())?(this._log.info("Re-authenticating ..."),this._options=Mt(Mt({},this._options),{token:r}),[2,this.connect()]):[3,3];case 2:throw n=o.sent(),this._log.error("Re-authentication failed"),new se(n);case 3:return[2]}}))}))},s.prototype._handleMessage=function(t){if(t instanceof Error)this.emit("error",t);else try{var e=Bt(this._parseMessageForEmitter(t),2),r=e[0],n=e[1];this._emit(r,n)}catch(e){this._log.error("\nAn error occurred while attempting to parse a message into a event. Please use the following stack trace and raw message to resolve the bug in the TwitchJS source code, and then issue a pull request at https://github.com/twitch-js/twitch-js/compare\n\nStack trace:\n"+e+"\n\nBase message:\n"+JSON.stringify(t)),this.emit(ne.ERROR_ENCOUNTERED,e)}},s.prototype._handleJoinsAfterConnect=function(){return kt(this,void 0,void 0,(function(){var t,e=this;return q(this,(function(r){switch(r.label){case 0:return t=this._getChannels(),[4,Promise.all(t.map((function(t){return e.join(t)})))];case 1:return r.sent(),[2]}}))}))},s.prototype._getChannels=function(){return Object.keys(this._channelState)},s.prototype._getChannelState=function(t){return this._channelState[t]},s.prototype._setChannelState=function(t,e){this._channelState[t]=e},s.prototype._removeChannelState=function(t){this._channelState=Object.entries(this._channelState).reduce((function(e,r){var n,o=Bt(r,2),i=o[0],s=o[1];return i===t?e:Mt(Mt({},e),((n={})[i]=s,n))}),{})},s.prototype._clearChannelState=function(){this._channelState={}},s.prototype._parseMessageForEmitter=function(t){var e=Ee(t.channel),r=t.event||t.command;switch(t.command){case Yt.JOIN:return[o=r+"/"+e,n=function(t){var e=Bt(/:(.+)!(.+)@(.+).tmi.twitch.tv JOIN (#.+)/g.exec(t._raw),5),r=e[1],n=e[4];return Mt(Mt({},t),{channel:n,command:Pt.JOIN,event:Pt.JOIN,username:r})}(t)];case Yt.PART:return[o=r+"/"+e,n=function(t){var e=Bt(/:(.+)!(.+)@(.+).tmi.twitch.tv PART (#.+)/g.exec(t._raw),5),r=e[1],n=e[4];return Mt(Mt({},t),{channel:n,command:Pt.PART,event:Pt.PART,username:r})}(t)];case Yt.NAMES:return[o=r+"/"+e,n=function(t){var e=Bt(/:(.+).tmi.twitch.tv 353 (.+) = (#.+) :(.+)/g.exec(t._raw),5),r=e[3],n=e[4].split(" ");return Mt(Mt({},t),{channel:r,command:Pt.NAMES,event:Pt.NAMES,usernames:n})}(t)];case Yt.NAMES_END:return[o=r+"/"+e,n=function(t){var e=Bt(/:(.+).tmi.twitch.tv 366 (.+) (#.+) :(.+)/g.exec(t._raw),4),r=e[1],n=e[3];return Mt(Mt({},t),{channel:n,command:Pt.NAMES_END,event:Pt.NAMES_END,username:r})}(t)];case Yt.CLEAR_CHAT:return[o=r+"/"+(n=function(t){var e=t.tags,r=t.message,n=Ft(t,["tags","message"]);return Mt(Mt({},n),void 0!==r?{tags:Mt(Mt({},e),{banReason:ce(e.banReason),banDuration:le(e.banDuration)}),command:Pt.CLEAR_CHAT,event:jt.USER_BANNED,username:r}:{command:Pt.CLEAR_CHAT,event:Pt.CLEAR_CHAT})}(t)).event+"/"+e,n];case Yt.CLEAR_MESSAGE:return[o=r+"/"+e,n=function(t){var e=t.tags;return Mt(Mt({},t),{tags:{login:e.login,targetMsgId:e.targetMsgId},command:Pt.CLEAR_MESSAGE,event:Pt.CLEAR_MESSAGE,targetMessageId:e.targetMsgId})}(t)];case Yt.HOST_TARGET:return[o=r+"/"+e,n=function(t){var e=Bt(/:tmi.twitch.tv HOSTTARGET (#[^\s]+) :([^\s]+)?\s?(\d+)?/g.exec(t._raw),4),r=e[1],n=e[2],o=e[3],i="-"===n;return Mt(Mt({},t),{channel:r,username:n,command:Pt.HOST_TARGET,event:i?jt.HOST_OFF:jt.HOST_ON,numberOfViewers:z()(st()(o))?parseInt(o,10):void 0})}(t)];case Yt.MODE:var n=function(t){var e=Bt(/:[^\s]+ MODE (#[^\s]+) (-|\+)o ([^\s]+)/g.exec(t._raw),4),r=e[1],n=e[2],o=e[3],i="+"===n,s=Mt(Mt({},t),{command:Pt.MODE,channel:r,username:o});return Mt(Mt({},s),i?{event:jt.MOD_GAINED,message:"+o",isModerator:!0}:{event:jt.MOD_LOST,message:"-o",isModerator:!1})}(t),o=r+"/"+e,i=this._getChannelState(e);return this._isAuthenticated&&void 0!==(null==i?void 0:i.userState)&&n.username===this._options.username&&this._setChannelState(e,Mt(Mt({},i),{userState:Mt(Mt({},i.userState),{mod:n.isModerator?"1":"0",isModerator:n.isModerator})})),[o,n];case Yt.USER_STATE:return n=me(t),o=r+"/"+e,(i=this._getChannelState(e))&&this._setChannelState(e,Mt(Mt({},i),{userState:n.tags})),[o,n];case Yt.ROOM_STATE:return n=function(t){var e=t.tags,r=Ft(t,["tags"]);return Mt(Mt({},r),{command:Pt.ROOM_STATE,event:Pt.ROOM_STATE,tags:he(e)})}(t),o=r+"/"+e,this._setChannelState(e,Mt(Mt({},this._getChannelState(e)),{roomState:n})),[o,n];case Yt.NOTICE:return[o=r+"/"+(n=_e(t)).event+"/"+e,n];case Yt.USER_NOTICE:return[o=r+"/"+(n=Oe(t)).event+"/"+e,n];case Yt.PRIVATE_MESSAGE:return[o=r+"/"+(n=function(t){var e=t._raw,r=t.tags;if(ot()(r.bits,0))return Mt(Mt({},me(t)),{command:Pt.PRIVATE_MESSAGE,event:jt.CHEER,bits:parseInt(r.bits,10)});var n=Bt(ue.exec(e)||[],5),o=n[0],i=n[1],s=n[2],a=n[3],u=n[4];return o?Mt(Mt({},t),a?{command:Pt.PRIVATE_MESSAGE,event:jt.HOSTED_AUTO,channel:"#"+i,tags:{displayName:s},numberOfViewers:le(u)}:u?{command:Pt.PRIVATE_MESSAGE,event:jt.HOSTED_WITH_VIEWERS,channel:"#"+i,tags:{displayName:s},numberOfViewers:le(u)}:{command:Pt.PRIVATE_MESSAGE,event:jt.HOSTED_WITHOUT_VIEWERS,channel:"#"+i,tags:{displayName:s}}):Mt(Mt({},me(t)),{command:Pt.PRIVATE_MESSAGE,event:Pt.PRIVATE_MESSAGE})}(t)).event+"/"+e,n];default:return[o=e?r+"/"+e:r,t]}},s.prototype._emit=function(e,r){var n=this;try{e&&(this._log.info(r,e),O()(e.split("/")).filter((function(t){return"#"!==t})).reduce((function(e,o){var i=Ht(e,[o]),s=i.join("/");return i.length>1&&t.prototype.emit.call(n,o,r),t.prototype.emit.call(n,s,r),i}),[])),t.prototype.emit.call(this,Yt.ALL,r)}catch(t){this._log.error("\nWhile attempting to handle the "+r.command+" event, an error occurred in your implementation. To avoid seeing this message, please resolve the error:\n\n"+t.stack+"\n\nParsed messages:\n"+JSON.stringify(r)),this.emit(ne.ERROR_ENCOUNTERED,t)}},s.Commands=Pt,s.Events=Yt,s.CompoundEvents=((re={})[Yt.NOTICE]=Xt,re[Yt.PRIVATE_MESSAGE]=te,re[Yt.USER_NOTICE]=ee,re),s}(o.a),Ie=function(t){function e(r,n){var o=this,i=(null==n?void 0:n.message)||r.url+" "+r.statusText;return o=t.call(this,i)||this,Object.setPrototypeOf(o,e.prototype),o.ok=!1,o.status=r.status,o.statusText=r.statusText,o.url=r.url,o.body=n,o}return Tt(e,t),e}(dt),Ne=function(t){var e={token:G.a,clientId:function(t){return G()(t)||At()(t)},onAuthenticationFailure:function(t){return yt()(t)||At()(t)}};return t=B()(t,{clientId:void 0,onAuthenticationFailure:void 0}),L()(F()(t,e),"Expected valid options"),t};!function(t){t[t.NOT_READY=0]="NOT_READY",t[t.READY=1]="READY",t[t.INITIALIZED=2]="INITIALIZED"}(Te||(Te={}));var we=((Ae={})[Ct.Helix]={baseUrl:"https://api.twitch.tv/helix",authorizationHeader:"Bearer"},Ae[Ct.Kraken]={baseUrl:"https://api.twitch.tv/kraken",authorizationHeader:"OAuth"},Ae),Re=function(){function t(t){this._readyState=Te.READY,this._options=Ne(t),this._log=$t(Mt({name:"Api"},this._options.log))}return Object.defineProperty(t.prototype,"readyState",{get:function(){return this._readyState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),t.prototype.updateOptions=function(t){var e=this._options,r=e.clientId,n=e.token;this._options=Ne(Mt(Mt({},t),{clientId:r,token:n}))},t.prototype.initialize=function(t){return kt(this,void 0,void 0,(function(){var e;return q(this,(function(r){switch(r.label){case 0:return t&&(this._options=Ne(Mt(Mt({},this._options),t))),t||2!==this.readyState?[4,this.get("",{version:Ct.Kraken})]:[2,Promise.resolve()];case 1:return"token"in(e=r.sent())&&(this._readyState=Te.INITIALIZED,this._status=e),[2,e]}}))}))},t.prototype.hasScope=function(t){var e=this;return new Promise((function(r,n){return 2===e.readyState&&e.status&&_t()(e.status.token.authorization.scopes,t)?r(!0):n(!1)}))},t.prototype.get=function(t,e){return void 0===t&&(t=""),this._handleFetch(t,e)},t.prototype.post=function(t,e){return this._handleFetch(t,Mt(Mt({},e),{method:"post"}))},t.prototype.put=function(t,e){return this._handleFetch(t,Mt(Mt({},e),{method:"put"}))},t.prototype._isVersionHelix=function(t){return D()(t)===Ct.Helix},t.prototype._getBaseUrl=function(t){return we[t].baseUrl},t.prototype._getHeaders=function(t){var e=this._options,r=e.clientId,n=e.token,o={};return this._isVersionHelix(t)||(o.Accept="application/vnd.twitchtv.v5+json"),r&&(o["Client-ID"]=r),n&&(o.Authorization=we[t].authorizationHeader+" "+n),o},t.prototype._handleFetch=function(t,e){return void 0===t&&(t=""),void 0===e&&(e={}),kt(this,void 0,void 0,(function(){var r,n,o,i,s,a,u,c,l,f,h,d,y,p,v,_,m,O,E,S;return q(this,(function(A){switch(A.label){case 0:r=e.version,n=void 0===r?Ct.Helix:r,o=Ft(e,["version"]),i=this._getBaseUrl(n),s=i+"/"+t,a=(ut()(o.method)||"GET")+" "+s,u=this._log.profile(),c=this._getHeaders(n),l=Object.entries(o.headers||{});try{for(f=function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(l),h=f.next();!h.done;h=f.next())d=Bt(h.value,2),y=d[0],p=d[1],c[String(y)]=p}catch(t){E={error:t}}finally{try{h&&!h.done&&(S=f.return)&&S.call(f)}finally{if(E)throw E.error}}v=function(){return function(t,e,r){return void 0===e&&(e={}),kt(void 0,void 0,void 0,(function(){var r,n,i,s,a,u,o,c;return q(this,(function(l){switch(l.label){case 0:return r=e.body&&!(e.body instanceof bt.a)&&"object"==typeof e.body,n=r?JSON.stringify(e.body):e.body,i=r?Mt(Mt({},e.headers),{"Content-Type":"application/json"}):e.headers,s="object"==typeof e.search?"?"+Object(St.stringify)(e.search,undefined):"",a=Mt(Mt({},e),n?{method:e.method||"get",headers:i,body:n}:{method:e.method||"get",headers:i}),[4,Ot()(""+t+s,a)];case 1:return[4,(u=l.sent()).json().catch((function(){}))];case 2:if(o=l.sent(),c=o?R()(o,{deep:!0}):void 0,!u.ok)throw new Ie(u,c);return c?[2,c]:[2,u]}}))}))}(s,Mt(Mt({},o),{headers:c}))},A.label=1;case 1:return A.trys.push([1,3,9,10]),[4,v()];case 2:return[2,A.sent()];case 3:return m=A.sent(),_=m,"function"==typeof this._options.onAuthenticationFailure&&m instanceof Ie&&401===m.status?[4,this._options.onAuthenticationFailure()]:[3,8];case 4:return(O=A.sent())?[4,this.initialize({token:O})]:[3,6];case 5:A.sent(),this._log.info(a+" ... re-initializing with new token"),A.label=6;case 6:return this._log.info(a+" ... retrying"),[4,v()];case 7:return[2,A.sent()];case 8:throw m;case 9:return u.done(a,_),[7];case 10:return[2]}}))}))},t}(),xe=function(){function t(t){var e=t.token,r=t.username,n=t.clientId,o=t.log,i=t.onAuthenticationFailure,s=t.chat,a=t.api;this.chat=new Ce(Mt(Mt({log:o},s),{token:e,username:r,onAuthenticationFailure:i})),this.api=new Re(Mt(Mt({log:o},a),{token:e,clientId:n,onAuthenticationFailure:i}))}return t.prototype.updateOptions=function(t){var e=t.chat,r=t.api;e&&this.chat.updateOptions(e),r&&this.api.updateOptions(r)},t.Chat=Ce,t.Api=Re,t}();e.c=xe},function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function c(){}function l(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function f(t,e,r,n,c){if("function"!=typeof r)throw new TypeError("The listener must be a function");var f=new l(r,n||t,c),h=o?o+e:e;return t._events[h]?t._events[h].fn?t._events[h]=[t._events[h],f]:t._events[h].push(f):(t._events[h]=f,t._eventsCount++),t}function h(t,e){0==--t._eventsCount?t._events=new c:delete t._events[e]}function d(){this._events=new c,this._eventsCount=0}Object.create&&(c.prototype=Object.create(null),(new c).__proto__||(o=!1)),d.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},d.prototype.listeners=function(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,n=r.length,c=new Array(n);i<n;i++)c[i]=r[i].fn;return c},d.prototype.listenerCount=function(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},d.prototype.emit=function(t,e,r,n,c,l){var f=o?o+t:t;if(!this._events[f])return!1;var h,i,d=this._events[f],y=arguments.length;if(d.fn){switch(d.once&&this.removeListener(t,d.fn,void 0,!0),y){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,e),!0;case 3:return d.fn.call(d.context,e,r),!0;case 4:return d.fn.call(d.context,e,r,n),!0;case 5:return d.fn.call(d.context,e,r,n,c),!0;case 6:return d.fn.call(d.context,e,r,n,c,l),!0}for(i=1,h=new Array(y-1);i<y;i++)h[i-1]=arguments[i];d.fn.apply(d.context,h)}else{var v,_=d.length;for(i=0;i<_;i++)switch(d[i].once&&this.removeListener(t,d[i].fn,void 0,!0),y){case 1:d[i].fn.call(d[i].context);break;case 2:d[i].fn.call(d[i].context,e);break;case 3:d[i].fn.call(d[i].context,e,r);break;case 4:d[i].fn.call(d[i].context,e,r,n);break;default:if(!h)for(v=1,h=new Array(y-1);v<y;v++)h[v-1]=arguments[v];d[i].fn.apply(d[i].context,h)}}return!0},d.prototype.on=function(t,e,r){return f(this,t,e,r,!1)},d.prototype.once=function(t,e,r){return f(this,t,e,r,!0)},d.prototype.removeListener=function(t,e,r,n){var c=o?o+t:t;if(!this._events[c])return this;if(!e)return h(this,c),this;var l=this._events[c];if(l.fn)l.fn!==e||n&&!l.once||r&&l.context!==r||h(this,c);else{for(var i=0,f=[],d=l.length;i<d;i++)(l[i].fn!==e||n&&!l[i].once||r&&l[i].context!==r)&&f.push(l[i]);f.length?this._events[c]=1===f.length?f[0]:f:h(this,c)}return this},d.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&h(this,e)):(this._events=new c,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=o,d.EventEmitter=d,t.exports=d},function(t,e,r){"use strict";const n=r(319);class o extends Error{constructor(t){super(t),this.name="TimeoutError"}}const c=(t,e,r)=>new Promise(((c,l)=>{if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(e===1/0)return void c(t);const f=setTimeout((()=>{if("function"==typeof r){try{c(r())}catch(t){l(t)}return}const n=r instanceof Error?r:new o("string"==typeof r?r:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),l(n)}),e);n(t.then(c,l),(()=>{clearTimeout(f)}))}));t.exports=c,t.exports.default=c,t.exports.TimeoutError=o},function(t,e,r){(function(e){var r="object"==typeof e&&e&&e.Object===Object&&e;t.exports=r}).call(this,r(19))},function(t,e){var r=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return r.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e,r){var n=r(256)(r(255),"Map");t.exports=n},function(t,e,r){var n=r(352),o=r(353),c=r(354);t.exports=function(t,e,r){return e==e?c(t,e,r):n(t,o,r)}},function(t,e,r){var n=r(256)(r(255),"Set");t.exports=n},function(t,e){t.exports=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r}},function(t,e,r){var n=r(276),o=r(373),c=Object.prototype.hasOwnProperty;t.exports=function(object){if(!n(object))return o(object);var t=[];for(var e in Object(object))c.call(object,e)&&"constructor"!=e&&t.push(e);return t}},function(t,e,r){var n=r(379),o=r(260),c=Object.prototype,l=c.hasOwnProperty,f=c.propertyIsEnumerable,h=n(function(){return arguments}())?n:function(t){return o(t)&&l.call(t,"callee")&&!f.call(t,"callee")};t.exports=h},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,r){(function(t){var n=r(255),o=r(380),c=e&&!e.nodeType&&e,l=c&&"object"==typeof t&&t&&!t.nodeType&&t,f=l&&l.exports===c?n.Buffer:void 0,h=(f?f.isBuffer:void 0)||o;t.exports=h}).call(this,r(300)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,r){var n=r(381),o=r(382),c=r(383),l=c&&c.isTypedArray,f=l?o(l):n;t.exports=f},function(t,e){t.exports=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o}},function(t,e,r){var n=r(257),o=r(260);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==n(t)}},function(t,e,r){var n=r(305),o=r(296),c=r(262);t.exports=function(object){return c(object)?n(object):o(object)}},function(t,e,r){var n=r(389),o=r(297),c=r(268),l=r(299),f=r(306),h=r(301),d=Object.prototype.hasOwnProperty;t.exports=function(t,e){var r=c(t),y=!r&&o(t),v=!r&&!y&&l(t),_=!r&&!y&&!v&&h(t),m=r||y||v||_,O=m?n(t.length,String):[],E=O.length;for(var S in t)!e&&!d.call(t,S)||m&&("length"==S||v&&("offset"==S||"parent"==S)||_&&("buffer"==S||"byteLength"==S||"byteOffset"==S)||f(S,E))||O.push(S);return O}},function(t,e){var r=/^(?:0|[1-9]\d*)$/;t.exports=function(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&r.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return t}},function(t,e,r){var n=r(275),o=r(262),c=r(306),l=r(261);t.exports=function(t,e,object){if(!l(object))return!1;var r=typeof e;return!!("number"==r?o(object)&&c(e,object.length):"string"==r&&e in object)&&n(object[e],t)}},function(t,e,r){var n=r(257),o=r(268),c=r(260);t.exports=function(t){return"string"==typeof t||!o(t)&&c(t)&&"[object String]"==n(t)}},function(t,e,r){var n=r(277),o=1/0;t.exports=function(t){return t?(t=n(t))===o||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}},function(t,e){var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=function(t){return r.test(t)}},function(t,e,r){"use strict";var n=r(281),o=Object.prototype.hasOwnProperty,c=Array.isArray,l=function(){for(var t=[],i=0;i<256;++i)t.push("%"+((i<16?"0":"")+i.toString(16)).toUpperCase());return t}(),f=function(source,t){for(var e=t&&t.plainObjects?Object.create(null):{},i=0;i<source.length;++i)void 0!==source[i]&&(e[i]=source[i]);return e};t.exports={arrayToObject:f,assign:function(t,source){return Object.keys(source).reduce((function(t,e){return t[e]=source[e],t}),t)},combine:function(a,b){return[].concat(a,b)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],i=0;i<e.length;++i)for(var n=e[i],o=n.obj[n.prop],l=Object.keys(o),f=0;f<l.length;++f){var h=l[f],d=o[h];"object"==typeof d&&null!==d&&-1===r.indexOf(d)&&(e.push({obj:o,prop:h}),r.push(d))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(c(r)){for(var n=[],o=0;o<r.length;++o)void 0!==r[o]&&n.push(r[o]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(t){return n}},encode:function(t,e,r,o,c){if(0===t.length)return t;var f=t;if("symbol"==typeof t?f=Symbol.prototype.toString.call(t):"string"!=typeof t&&(f=String(t)),"iso-8859-1"===r)return escape(f).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var h="",i=0;i<f.length;++i){var d=f.charCodeAt(i);45===d||46===d||95===d||126===d||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||c===n.RFC1738&&(40===d||41===d)?h+=f.charAt(i):d<128?h+=l[d]:d<2048?h+=l[192|d>>6]+l[128|63&d]:d<55296||d>=57344?h+=l[224|d>>12]+l[128|d>>6&63]+l[128|63&d]:(i+=1,d=65536+((1023&d)<<10|1023&f.charCodeAt(i)),h+=l[240|d>>18]+l[128|d>>12&63]+l[128|d>>6&63]+l[128|63&d])}return h},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(c(t)){for(var r=[],i=0;i<t.length;i+=1)r.push(e(t[i]));return r}return e(t)},merge:function t(e,source,r){if(!source)return e;if("object"!=typeof source){if(c(e))e.push(source);else{if(!e||"object"!=typeof e)return[e,source];(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,source))&&(e[source]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(source);var n=e;return c(e)&&!c(source)&&(n=f(e,r)),c(e)&&c(source)?(source.forEach((function(n,i){if(o.call(e,i)){var c=e[i];c&&"object"==typeof c&&n&&"object"==typeof n?e[i]=t(c,n,r):e.push(n)}else e[i]=n})),e):Object.keys(source).reduce((function(e,n){var c=source[n];return o.call(e,n)?e[n]=t(e[n],c,r):e[n]=c,e}),n)}}},,,,function(t,e,r){"use strict";const n=()=>{const t=new Error("Delay aborted");return t.name="AbortError",t},o=({clearTimeout:t,setTimeout:e,willResolve:r})=>(o,{value:c,signal:l}={})=>{if(l&&l.aborted)return Promise.reject(n());let f,h,d;const y=t||clearTimeout,v=()=>{y(f),d(n())},_=new Promise(((t,n)=>{h=()=>{l&&l.removeEventListener("abort",v),r?t(c):n(c)},d=n,f=(e||setTimeout)(h,o)}));return l&&l.addEventListener("abort",v,{once:!0}),_.clear=()=>{y(f),f=null,h()},_},c=o({willResolve:!0});c.reject=o({willResolve:!1}),c.range=(t,e,r)=>c(((t,e)=>Math.floor(Math.random()*(e-t+1)+t))(t,e),r),c.createWithTimers=({clearTimeout:t,setTimeout:e})=>{const r=o({clearTimeout:t,setTimeout:e,willResolve:!0});return r.reject=o({clearTimeout:t,setTimeout:e,willResolve:!1}),r},t.exports=c,t.exports.default=c},function(t,e,r){"use strict";class n extends Error{constructor(t){super(t||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}}class o{static fn(t){return(...e)=>new o(((r,n,o)=>{e.push(o),t(...e).then(r,n)}))}constructor(t){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise(((e,r)=>{this._reject=r;const n=t=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(t)};return Object.defineProperties(n,{shouldReject:{get:()=>this._rejectOnCancel,set:t=>{this._rejectOnCancel=t}}}),t((t=>{this._isCanceled&&n.shouldReject||(this._isPending=!1,e(t))}),(t=>{this._isPending=!1,r(t)}),n)}))}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(t){if(this._isPending&&!this._isCanceled){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(const t of this._cancelHandlers)t()}catch(t){return void this._reject(t)}this._rejectOnCancel&&this._reject(new n(t))}}get isCanceled(){return this._isCanceled}}Object.setPrototypeOf(o.prototype,Promise.prototype),t.exports=o,t.exports.CancelError=n},function(t,e,r){"use strict";const n=r(289),o=Symbol.asyncIterator||"@@asyncIterator",c=t=>{const e=t.on||t.addListener||t.addEventListener,r=t.off||t.removeListener||t.removeEventListener;if(!e||!r)throw new TypeError("Emitter is not compatible");return{addListener:e.bind(t),removeListener:r.bind(t)}},l=t=>Array.isArray(t)?t:[t],f=(t,e,r)=>{let o;const f=new Promise(((n,f)=>{if(!((r={rejectionEvents:["error"],multiArgs:!1,resolveImmediately:!1,...r}).count>=0)||r.count!==1/0&&!Number.isInteger(r.count))throw new TypeError("The `count` option should be at least 0 or more");const h=l(e),d=[],{addListener:y,removeListener:v}=c(t),_=(...t)=>{const e=r.multiArgs?t:t[0];r.filter&&!r.filter(e)||(d.push(e),r.count===d.length&&(o(),n(d)))},m=t=>{o(),f(t)};o=()=>{for(const t of h)v(t,_);for(const t of r.rejectionEvents)v(t,m)};for(const t of h)y(t,_);for(const t of r.rejectionEvents)y(t,m);r.resolveImmediately&&n(d)}));if(f.cancel=o,"number"==typeof r.timeout){const t=n(f,r.timeout);return t.cancel=o,t}return f},h=(t,e,r)=>{"function"==typeof r&&(r={filter:r}),r={...r,count:1,resolveImmediately:!1};const n=f(t,e,r),o=n.then((t=>t[0]));return o.cancel=n.cancel,o};t.exports=h,t.exports.default=h,t.exports.multiple=f,t.exports.iterator=(t,e,r)=>{"function"==typeof r&&(r={filter:r});const n=l(e);r={rejectionEvents:["error"],resolutionEvents:[],limit:1/0,multiArgs:!1,...r};const{limit:f}=r;if(!(f>=0&&(f===1/0||Number.isInteger(f))))throw new TypeError("The `limit` option should be a non-negative integer or Infinity");if(0===f)return{[Symbol.asyncIterator](){return this},next:async()=>({done:!0,value:void 0})};const{addListener:h,removeListener:d}=c(t);let y,v=!1,_=!1;const m=[],O=[];let E=0,S=!1;const A=(...t)=>{E++,S=E===f;const e=r.multiArgs?t:t[0];if(m.length>0){const{resolve:t}=m.shift();return t({done:!1,value:e}),void(S&&T())}O.push(e),S&&T()},T=()=>{v=!0;for(const t of n)d(t,A);for(const t of r.rejectionEvents)d(t,C);for(const t of r.resolutionEvents)d(t,I);for(;m.length>0;){const{resolve:t}=m.shift();t({done:!0,value:void 0})}},C=(...t)=>{if(y=r.multiArgs?t:t[0],m.length>0){const{reject:t}=m.shift();t(y)}else _=!0;T()},I=(...t)=>{const e=r.multiArgs?t:t[0];if(!r.filter||r.filter(e)){if(m.length>0){const{resolve:t}=m.shift();t({done:!0,value:e})}else O.push(e);T()}};for(const t of n)h(t,A);for(const t of r.rejectionEvents)h(t,C);for(const t of r.resolutionEvents)h(t,I);return{[o](){return this},async next(){if(O.length>0){const t=O.shift();return{done:v&&0===O.length&&!S,value:t}}if(_)throw _=!1,y;return v?{done:!0,value:void 0}:new Promise(((t,e)=>m.push({resolve:t,reject:e})))},return:async t=>(T(),{done:v,value:t})}},t.exports.TimeoutError=n.TimeoutError},function(t,e,r){"use strict";t.exports=(t,e)=>(e=e||(()=>{}),t.then((t=>new Promise((t=>{t(e())})).then((()=>t))),(t=>new Promise((t=>{t(e())})).then((()=>{throw t})))))},function(t,e,r){"use strict";class n extends Error{constructor(t){super(t),this.name="TimeoutError"}}const o=(t,e,r,o)=>{let c;const l=new Promise(((l,f)=>{if("number"!=typeof e||e<0)throw new TypeError("Expected `milliseconds` to be a positive number");e!==1/0?(o={customTimers:{setTimeout:setTimeout,clearTimeout:clearTimeout},...o},c=o.customTimers.setTimeout.call(void 0,(()=>{if("function"==typeof r){try{l(r())}catch(t){f(t)}return}const o=r instanceof Error?r:new n("string"==typeof r?r:`Promise timed out after ${e} milliseconds`);"function"==typeof t.cancel&&t.cancel(),f(o)}),e),(async()=>{try{l(await t)}catch(t){f(t)}finally{o.customTimers.clearTimeout.call(void 0,c)}})()):l(t)}));return l.clear=()=>{clearTimeout(c),c=void 0},l};t.exports=o,t.exports.default=o,t.exports.TimeoutError=n},function(t,e,r){var n=r(322);t.exports=function(t){return t&&t.length?n(t):[]}},function(t,e,r){var n=r(323),o=r(351),c=r(355),l=r(356),f=r(357),h=r(295);t.exports=function(t,e,r){var d=-1,y=o,v=t.length,_=!0,m=[],O=m;if(r)_=!1,y=c;else if(v>=200){var E=e?null:f(t);if(E)return h(E);_=!1,y=l,O=new n}else O=e?[]:m;t:for(;++d<v;){var S=t[d],A=e?e(S):S;if(S=r||0!==S?S:0,_&&A==A){for(var T=O.length;T--;)if(O[T]===A)continue t;e&&O.push(A),m.push(S)}else y(O,A,r)||(O!==m&&O.push(A),m.push(S))}return m}},function(t,e,r){var n=r(324),o=r(349),c=r(350);function l(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new n;++e<r;)this.add(t[e])}l.prototype.add=l.prototype.push=o,l.prototype.has=c,t.exports=l},function(t,e,r){var n=r(325),o=r(344),c=r(346),l=r(347),f=r(348);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=n,h.prototype.delete=o,h.prototype.get=c,h.prototype.has=l,h.prototype.set=f,t.exports=h},function(t,e,r){var n=r(326),o=r(338),c=r(292);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(c||o),string:new n}}},function(t,e,r){var n=r(327),o=r(334),c=r(335),l=r(336),f=r(337);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=n,h.prototype.delete=o,h.prototype.get=c,h.prototype.has=l,h.prototype.set=f,t.exports=h},function(t,e,r){var n=r(265);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e,r){var n=r(273),o=r(331),c=r(261),l=r(291),f=/^\[object .+?Constructor\]$/,h=Function.prototype,d=Object.prototype,y=h.toString,v=d.hasOwnProperty,_=RegExp("^"+y.call(v).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!c(t)||o(t))&&(n(t)?_:f).test(l(t))}},function(t,e,r){var n=r(274),o=Object.prototype,c=o.hasOwnProperty,l=o.toString,f=n?n.toStringTag:void 0;t.exports=function(t){var e=c.call(t,f),r=t[f];try{t[f]=void 0;var n=!0}catch(t){}var o=l.call(t);return n&&(e?t[f]=r:delete t[f]),o}},function(t,e){var r=Object.prototype.toString;t.exports=function(t){return r.call(t)}},function(t,e,r){var n,o=r(332),c=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";t.exports=function(t){return!!c&&c in t}},function(t,e,r){var n=r(255)["__core-js_shared__"];t.exports=n},function(t,e){t.exports=function(object,t){return null==object?void 0:object[t]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,r){var n=r(265),o=Object.prototype.hasOwnProperty;t.exports=function(t){var data=this.__data__;if(n){var e=data[t];return"__lodash_hash_undefined__"===e?void 0:e}return o.call(data,t)?data[t]:void 0}},function(t,e,r){var n=r(265),o=Object.prototype.hasOwnProperty;t.exports=function(t){var data=this.__data__;return n?void 0!==data[t]:o.call(data,t)}},function(t,e,r){var n=r(265);t.exports=function(t,e){var data=this.__data__;return this.size+=this.has(t)?0:1,data[t]=n&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,r){var n=r(339),o=r(340),c=r(341),l=r(342),f=r(343);function h(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}h.prototype.clear=n,h.prototype.delete=o,h.prototype.get=c,h.prototype.has=l,h.prototype.set=f,t.exports=h},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,r){var n=r(266),o=Array.prototype.splice;t.exports=function(t){var data=this.__data__,e=n(data,t);return!(e<0)&&(e==data.length-1?data.pop():o.call(data,e,1),--this.size,!0)}},function(t,e,r){var n=r(266);t.exports=function(t){var data=this.__data__,e=n(data,t);return e<0?void 0:data[e][1]}},function(t,e,r){var n=r(266);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,r){var n=r(266);t.exports=function(t,e){var data=this.__data__,r=n(data,t);return r<0?(++this.size,data.push([t,e])):data[r][1]=e,this}},function(t,e,r){var n=r(267);t.exports=function(t){var e=n(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,r){var n=r(267);t.exports=function(t){return n(this,t).get(t)}},function(t,e,r){var n=r(267);t.exports=function(t){return n(this,t).has(t)}},function(t,e,r){var n=r(267);t.exports=function(t,e){var data=n(this,t),r=data.size;return data.set(t,e),this.size+=data.size==r?0:1,this}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,r){var n=r(293);t.exports=function(t,e){return!!(null==t?0:t.length)&&n(t,e,0)>-1}},function(t,e){t.exports=function(t,e,r,n){for(var o=t.length,c=r+(n?1:-1);n?c--:++c<o;)if(e(t[c],c,t))return c;return-1}},function(t,e){t.exports=function(t){return t!=t}},function(t,e){t.exports=function(t,e,r){for(var n=r-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}},function(t,e){t.exports=function(t,e,r){for(var n=-1,o=null==t?0:t.length;++n<o;)if(r(e,t[n]))return!0;return!1}},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,r){var n=r(294),o=r(358),c=r(295),l=n&&1/c(new n([,-0]))[1]==1/0?function(t){return new n(t)}:o;t.exports=l},function(t,e){t.exports=function(){}},function(t,e,r){"use strict";const n=r(360);t.exports=l;const o=function(){function t(t){return void 0!==t&&t}try{return"undefined"!=typeof globalThis||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch(e){return t(self)||t(window)||t(this)||{}}}().console||{},c={mapHttpRequest:O,mapHttpResponse:O,wrapRequestSerializer:E,wrapResponseSerializer:E,wrapErrorSerializer:E,req:O,res:O,err:function(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)void 0===e[r]&&(e[r]=t[r]);return e}};function l(t){(t=t||{}).browser=t.browser||{};const e=t.browser.transmit;if(e&&"function"!=typeof e.send)throw Error("pino: transmit option must have a send function");const r=t.browser.write||o;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},c=function(t,e){if(Array.isArray(t))return t.filter((function(t){return"!stdSerializers.err"!==t}));return!0===t&&Object.keys(e)}(t.browser.serialize,n);let h=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(h=!1);"function"==typeof r&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),!1===t.enabled&&(t.level="silent");const v=t.level||"info",O=Object.create(r);O.log||(O.log=S),Object.defineProperty(O,"levelVal",{get:function(){return"silent"===this.level?1/0:this.levels.values[this.level]}}),Object.defineProperty(O,"level",{get:function(){return this._level},set:function(t){if("silent"!==t&&!this.levels.values[t])throw Error("unknown level "+t);this._level=t,f(E,O,"error","log"),f(E,O,"fatal","error"),f(E,O,"warn","error"),f(E,O,"info","log"),f(E,O,"debug","log"),f(E,O,"trace","log")}});const E={transmit:e,serialize:c,asObject:t.browser.asObject,levels:["error","fatal","warn","info","debug","trace"],timestamp:m(t)};return O.levels=l.levels,O.level=v,O.setMaxListeners=O.getMaxListeners=O.emit=O.addListener=O.on=O.prependListener=O.once=O.prependOnceListener=O.removeListener=O.removeAllListeners=O.listeners=O.listenerCount=O.eventNames=O.write=O.flush=S,O.serializers=n,O._serialize=c,O._stdErrSerialize=h,O.child=function(r,o){if(!r)throw new Error("missing bindings for child Pino");o=o||{},c&&r.serializers&&(o.serializers=r.serializers);const l=o.serializers;if(c&&l){var f=Object.assign({},n,l),h=!0===t.browser.serialize?Object.keys(f):c;delete r.serializers,d([r],h,f,this._stdErrSerialize)}function v(t){this._childLevel=1+(0|t._childLevel),this.error=y(t,r,"error"),this.fatal=y(t,r,"fatal"),this.warn=y(t,r,"warn"),this.info=y(t,r,"info"),this.debug=y(t,r,"debug"),this.trace=y(t,r,"trace"),f&&(this.serializers=f,this._serialize=h),e&&(this._logEvent=_([].concat(t._logEvent.bindings,r)))}return v.prototype=this,new v(this)},e&&(O._logEvent=_()),O}function f(t,e,r,n){const c=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?S:c[r]?c[r]:o[r]||o[n]||S,function(t,e,r){if(!t.transmit&&e[r]===S)return;e[r]=(n=e[r],function(){const c=t.timestamp(),f=new Array(arguments.length),y=Object.getPrototypeOf&&Object.getPrototypeOf(this)===o?o:this;for(var i=0;i<f.length;i++)f[i]=arguments[i];if(t.serialize&&!t.asObject&&d(f,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(y,h(this,r,f,c)):n.apply(y,f),t.transmit){const n=t.transmit.level||e.level,o=l.levels.values[n],h=l.levels.values[r];if(h<o)return;v(this,{ts:c,methodLevel:r,methodValue:h,transmitLevel:n,transmitValue:l.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},f)}});var n}(t,e,r)}function h(t,e,r,o){t._serialize&&d(r,t._serialize,t.serializers,t._stdErrSerialize);const c=r.slice();let f=c[0];const h={};o&&(h.time=o),h.level=l.levels.values[e];let y=1+(0|t._childLevel);if(y<1&&(y=1),null!==f&&"object"==typeof f){for(;y--&&"object"==typeof c[0];)Object.assign(h,c.shift());f=c.length?n(c.shift(),c):void 0}else"string"==typeof f&&(f=n(c.shift(),c));return void 0!==f&&(h.msg=f),h}function d(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=l.stdSerializers.err(t[i]);else if("object"==typeof t[i]&&!Array.isArray(t[i]))for(const n in t[i])e&&e.indexOf(n)>-1&&n in r&&(t[i][n]=r[n](t[i][n]))}function y(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function v(t,e,r){const n=e.send,o=e.ts,c=e.methodLevel,l=e.methodValue,f=e.val,h=t._logEvent.bindings;d(r,t._serialize||Object.keys(t.serializers),t.serializers,void 0===t._stdErrSerialize||t._stdErrSerialize),t._logEvent.ts=o,t._logEvent.messages=r.filter((function(t){return-1===h.indexOf(t)})),t._logEvent.level.label=c,t._logEvent.level.value=l,n(c,t._logEvent,f),t._logEvent=_(h)}function _(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function m(t){return"function"==typeof t.timestamp?t.timestamp:!1===t.timestamp?A:T}function O(){return{}}function E(a){return a}function S(){}function A(){return!1}function T(){return Date.now()}l.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},l.stdSerializers=c,l.stdTimeFunctions=Object.assign({},{nullTime:A,epochTime:T,unixTime:function(){return Math.round(Date.now()/1e3)},isoTime:function(){return new Date(Date.now()).toISOString()}})},function(t,e,r){"use strict";function n(t){try{return JSON.stringify(t)}catch(t){return'"[Circular]"'}}t.exports=function(t,e,r){var o=r&&r.stringify||n;if("object"==typeof t&&null!==t){var c=e.length+1;if(1===c)return t;var l=new Array(c);l[0]=o(t);for(var f=1;f<c;f++)l[f]=o(e[f]);return l.join(" ")}if("string"!=typeof t)return t;var h=e.length;if(0===h)return t;for(var d="",a=0,y=-1,v=t&&t.length||0,i=0;i<v;){if(37===t.charCodeAt(i)&&i+1<v){switch(y=y>-1?y:0,t.charCodeAt(i+1)){case 100:case 102:if(a>=h)break;if(y<i&&(d+=t.slice(y,i)),null==e[a])break;d+=Number(e[a]),y=i+=2;break;case 105:if(a>=h)break;if(y<i&&(d+=t.slice(y,i)),null==e[a])break;d+=Math.floor(Number(e[a])),y=i+=2;break;case 79:case 111:case 106:if(a>=h)break;if(y<i&&(d+=t.slice(y,i)),void 0===e[a])break;var _=typeof e[a];if("string"===_){d+="'"+e[a]+"'",y=i+2,i++;break}if("function"===_){d+=e[a].name||"<anonymous>",y=i+2,i++;break}d+=o(e[a]),y=i+2,i++;break;case 115:if(a>=h)break;y<i&&(d+=t.slice(y,i)),d+=String(e[a]),y=i+2,i++;break;case 37:y<i&&(d+=t.slice(y,i)),d+="%",y=i+2,i++,a--}++a}++i}if(-1===y)return t;y<v&&(d+=t.slice(y));return d}},function(t,e,r){(function(e){let r;"undefined"!=typeof WebSocket?r=WebSocket:"undefined"!=typeof MozWebSocket?r=MozWebSocket:void 0!==e?r=e.WebSocket||e.MozWebSocket:"undefined"!=typeof window?r=window.WebSocket||window.MozWebSocket:"undefined"!=typeof self&&(r=self.WebSocket||self.MozWebSocket),t.exports=r}).call(this,r(19))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(288),o=r(289),c=r(363),l=()=>{},f=new o.TimeoutError;e.default=class extends n{constructor(t){var e,r,n,o;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=l,this._resolveIdle=l,!("number"==typeof(t=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:c.default},t)).intervalCap&&t.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(r=null===(e=t.intervalCap)||void 0===e?void 0:e.toString())&&void 0!==r?r:""}\` (${typeof t.intervalCap})`);if(void 0===t.interval||!(Number.isFinite(t.interval)&&t.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(o=null===(n=t.interval)||void 0===n?void 0:n.toString())&&void 0!==o?o:""}\` (${typeof t.interval})`);this._carryoverConcurrencyCount=t.carryoverConcurrencyCount,this._isIntervalIgnored=t.intervalCap===1/0||0===t.interval,this._intervalCap=t.intervalCap,this._interval=t.interval,this._queue=new t.queueClass,this._queueClass=t.queueClass,this.concurrency=t.concurrency,this._timeout=t.timeout,this._throwOnTimeout=!0===t.throwOnTimeout,this._isPaused=!1===t.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=l,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=l,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const t=Date.now();if(void 0===this._intervalId){const e=this._intervalEnd-t;if(!(e<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),e)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const t=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const e=this._queue.dequeue();return!!e&&(this.emit("active"),e(),t&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(t){if(!("number"==typeof t&&t>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${t}\` (${typeof t})`);this._concurrency=t,this._processQueue()}async add(t,e={}){return new Promise(((r,n)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const c=void 0===this._timeout&&void 0===e.timeout?t():o.default(Promise.resolve(t()),void 0===e.timeout?this._timeout:e.timeout,(()=>{(void 0===e.throwOnTimeout?this._throwOnTimeout:e.throwOnTimeout)&&n(f)}));r(await c)}catch(t){n(t)}this._next()}),e),this._tryToStartAnother(),this.emit("add")}))}async addAll(t,e){return Promise.all(t.map((async t=>this.add(t,e))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((t=>{const e=this._resolveEmpty;this._resolveEmpty=()=>{e(),t()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((t=>{const e=this._resolveIdle;this._resolveIdle=()=>{e(),t()}}))}get size(){return this._queue.size}sizeBy(t){return this._queue.filter(t).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(t){this._timeout=t}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(364);e.default=class{constructor(){this._queue=[]}enqueue(t,e){const element={priority:(e=Object.assign({priority:0},e)).priority,run:t};if(this.size&&this._queue[this.size-1].priority>=e.priority)return void this._queue.push(element);const r=n.default(this._queue,element,((a,b)=>b.priority-a.priority));this._queue.splice(r,0,element)}dequeue(){const t=this._queue.shift();return null==t?void 0:t.run}filter(t){return this._queue.filter((element=>element.priority===t.priority)).map((element=>element.run))}get size(){return this._queue.length}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){let n=0,o=t.length;for(;o>0;){const c=o/2|0;let l=n+c;r(t[l],e)<=0?(n=++l,o-=c+1):o=c}return n}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(366),o=r(367);function c(input){const t={},e=input.split(";"),r=e.length;for(let i=0;i<r;i+=1){const[r,n]=e[i].split("=");t[r]=void 0===n||o.unescapeString(n)}return t}function l(input){if(!input)return null;let t,e;if(0===(t=input.indexOf("!")))return null;if(0===(e=input.indexOf("@",t+1)))return null;const r={};return t>-1&&e>-1?(r.name=input.slice(0,t),r.user=input.slice(t+1,e),r.host=input.slice(e+1)):t>-1?(r.name=input.slice(0,t),r.user=input.slice(t+1)):e>-1?(r.name=input.slice(0,e),r.host=input.slice(e+1)):r.name=input,r}e.parseTags=c,e.parsePrefix=l,e.parse=function(input){const t={};Object.defineProperties(t,{middle:{writable:!0,value:[]},trailing:{writable:!0,value:void 0},params:{enumerable:!0,get(){return this.middle.concat(this.trailing||[])}}});let cursor=0,e=0;if(64===input.charCodeAt(cursor)){if(-1===(e=input.indexOf(" ")))throw new n.ParseError("Invalid Message");t.tags=c(input.slice(cursor+1,e)),cursor=e+1}for(;32===input.charCodeAt(cursor);)cursor+=1;if(58===input.charCodeAt(cursor)){if(-1===(e=input.indexOf(" ",cursor)))throw new n.ParseError("Invalid Message");const r=l(input.slice(cursor+1,e));for(r&&(t.prefix=r),cursor=e+1;32===input.charCodeAt(cursor);)cursor+=1}if(-1===(e=input.indexOf(" ",cursor))){if(input.length>cursor)return t.command=input.slice(cursor),t;throw new n.ParseError("Invalid Message")}for(t.command=input.slice(cursor,e),cursor=e+1;32===input.charCodeAt(cursor);)cursor+=1;for(;cursor<input.length;){if(58===input.charCodeAt(cursor)){t.trailing=input.slice(cursor+1);break}if(-1===(e=input.indexOf(" ",cursor))){t.middle.push(input.slice(cursor));break}for(t.middle.push(input.slice(cursor,e)),cursor=e+1;32===input.charCodeAt(cursor);)cursor+=1}return t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class n extends Error{constructor(t){super(t),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),Object.defineProperty(this,"name",{value:this.constructor.name})}}e.ParseError=class extends n{};e.FormatError=class extends n{}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.shouldEscapeString=function(input){console.log(input);for(let i=0;i<input.length;i+=1){switch(input.charCodeAt(i)){case 10:case 13:case 32:case 59:case 92:return!0}}return!1},e.escapeString=function(input){if(!input)return"";let output="";for(let i=0;i<input.length;i+=1){let t=input.charCodeAt(i);switch(t){case 10:output+="\\n";break;case 13:output+="\\r";break;case 32:output+="\\s";break;case 59:output+="\\:";break;case 92:output+="\\\\";break;default:output+=String.fromCharCode(t)}}return output},e.unescapeString=function(input){if(!input)return"";let t;if(-1===(t=input.indexOf("\\")))return input;const e=input.length-1;let cursor=0,output="";do{if(cursor<t&&(output+=input.slice(cursor,t)),(cursor=t+1)>=e)break;let r=input.charCodeAt(cursor);switch(r){case 58:r=59;break;case 110:r=10;break;case 114:r=13;break;case 115:r=32}cursor+=1,output+=String.fromCharCode(r)}while(-1!==(t=input.indexOf("\\",cursor)));return cursor<=e&&(output+=input.slice(cursor)),output}},function(t,e,r){"use strict";const n=r(369),o=r(370),c=r(371),l=new c({maxSize:1e5}),f=t=>!("object"!=typeof t||null===t||t instanceof RegExp||t instanceof Error||t instanceof Date),h=(input,t)=>{if(!f(input))return input;t={deep:!1,pascalCase:!1,...t};const{exclude:e,pascalCase:r,stopPaths:c,deep:h}=t,d=new Set(c),y=t=>(c,v)=>{if(h&&f(v)){const path=void 0===t?c:`${t}.${c}`;d.has(path)||(v=n(v,y(path)))}if(!e||!((t,e)=>t.some((t=>"string"==typeof t?t===e:(t.lastIndex=0,t.test(e)))))(e,c)){const t=r?`${c}_`:c;if(l.has(t))c=l.get(t);else{const e=o(c,{pascalCase:r});c.length<100&&l.set(t,e),c=e}}return[c,v]};return n(input,y(void 0))};t.exports=(input,t)=>Array.isArray(input)?Object.keys(input).map((e=>h(input[e],t))):h(input,t)},function(t,e,r){"use strict";const n=t=>"object"==typeof t&&null!==t,o=t=>n(t)&&!(t instanceof RegExp)&&!(t instanceof Error)&&!(t instanceof Date),c=(object,t,e,r=new WeakMap)=>{if(e={deep:!1,target:{},...e},r.has(object))return r.get(object);r.set(object,e.target);const{target:n}=e;delete e.target;const l=n=>n.map((element=>o(element)?c(element,t,e,r):element));if(Array.isArray(object))return l(object);for(const[f,h]of Object.entries(object)){let[d,y,{shouldRecurse:v=!0}={}]=t(f,h,object);"__proto__"!==d&&(e.deep&&v&&o(y)&&(y=Array.isArray(y)?l(y):c(y,t,e,r)),n[d]=y)}return n};t.exports=(object,t,e)=>{if(!n(object))throw new TypeError(`Expected an object, got \`${object}\` (${typeof object})`);return c(object,t,e)}},function(t,e,r){"use strict";const n=(input,t)=>{if("string"!=typeof input&&!Array.isArray(input))throw new TypeError("Expected the input to be `string | string[]`");t=Object.assign({pascalCase:!1},t);if(0===(input=Array.isArray(input)?input.map((t=>t.trim())).filter((t=>t.length)).join("-"):input.trim()).length)return"";if(1===input.length)return t.pascalCase?input.toUpperCase():input.toLowerCase();return input!==input.toLowerCase()&&(input=(t=>{let e=!1,r=!1,n=!1;for(let i=0;i<t.length;i++){const o=t[i];e&&/[a-zA-Z]/.test(o)&&o.toUpperCase()===o?(t=t.slice(0,i)+"-"+t.slice(i),e=!1,n=r,r=!0,i++):r&&n&&/[a-zA-Z]/.test(o)&&o.toLowerCase()===o?(t=t.slice(0,i-1)+"-"+t.slice(i-1),n=r,r=!1,e=!0):(e=o.toLowerCase()===o&&o.toUpperCase()!==o,n=r,r=o.toUpperCase()===o&&o.toLowerCase()!==o)}return t})(input)),input=input.replace(/^[_.\- ]+/,"").toLowerCase().replace(/[_.\- ]+(\w|$)/g,((t,e)=>e.toUpperCase())).replace(/\d+(\w|$)/g,(t=>t.toUpperCase())),e=input,t.pascalCase?e.charAt(0).toUpperCase()+e.slice(1):e;var e};t.exports=n,t.exports.default=n},function(t,e,r){"use strict";class n{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){const e=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){return this.cache.has(t)?this.cache.get(t):this.oldCache.has(t)?this.oldCache.get(t):void 0}delete(t){const e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(const[t]of this)yield t}*values(){for(const[,t]of this)yield t}*[Symbol.iterator](){for(const t of this.cache)yield t;for(const t of this.oldCache){const[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(const e of this.oldCache.keys())this.cache.has(e)||t++;return this._size+t}}t.exports=n},function(t,e,r){var n=r(296),o=r(375),c=r(297),l=r(268),f=r(262),h=r(299),d=r(276),y=r(301),v=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(f(t)&&(l(t)||"string"==typeof t||"function"==typeof t.splice||h(t)||y(t)||c(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(d(t))return!n(t).length;for(var r in t)if(v.call(t,r))return!1;return!0}},function(t,e,r){var n=r(374)(Object.keys,Object);t.exports=n},function(t,e){t.exports=function(t,e){return function(r){return t(e(r))}}},function(t,e,r){var n=r(376),o=r(292),c=r(377),l=r(294),f=r(378),h=r(257),d=r(291),y="[object Map]",v="[object Promise]",_="[object Set]",m="[object WeakMap]",O="[object DataView]",E=d(n),S=d(o),A=d(c),T=d(l),C=d(f),I=h;(n&&I(new n(new ArrayBuffer(1)))!=O||o&&I(new o)!=y||c&&I(c.resolve())!=v||l&&I(new l)!=_||f&&I(new f)!=m)&&(I=function(t){var e=h(t),r="[object Object]"==e?t.constructor:void 0,n=r?d(r):"";if(n)switch(n){case E:return O;case S:return y;case A:return v;case T:return _;case C:return m}return e}),t.exports=I},function(t,e,r){var n=r(256)(r(255),"DataView");t.exports=n},function(t,e,r){var n=r(256)(r(255),"Promise");t.exports=n},function(t,e,r){var n=r(256)(r(255),"WeakMap");t.exports=n},function(t,e,r){var n=r(257),o=r(260);t.exports=function(t){return o(t)&&"[object Arguments]"==n(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,r){var n=r(257),o=r(298),c=r(260),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1,t.exports=function(t){return c(t)&&o(t.length)&&!!l[n(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,r){(function(t){var n=r(290),o=e&&!e.nodeType&&e,c=o&&"object"==typeof t&&t&&!t.nodeType&&t,l=c&&c.exports===o&&n.process,f=function(){try{var t=c&&c.require&&c.require("util").types;return t||l&&l.binding&&l.binding("util")}catch(t){}}();t.exports=f}).call(this,r(300)(t))},function(t,e,r){var n=r(258);t.exports=function(t){return n(t).toLowerCase()}},function(t,e,r){var n=r(274),o=r(302),c=r(268),l=r(303),f=n?n.prototype:void 0,h=f?f.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(c(e))return o(e,t)+"";if(l(e))return h?h.call(e):"";var r=e+"";return"0"==r&&1/e==-Infinity?"-0":r}},function(t,e,r){"use strict";t.exports=function(t,e,a,b,r,n,o,c){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[a,b,r,n,o,c],h=0;(l=new Error(e.replace(/%s/g,(function(){return f[h++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(t,e,r){var n=r(388),o=r(304);t.exports=function(object,source){return null==source||n(object,source,o(source))}},function(t,e){t.exports=function(object,source,t){var e=t.length;if(null==object)return!e;for(object=Object(object);e--;){var r=t[e],n=source[r],o=object[r];if(void 0===o&&!(r in object)||!n(o))return!1}return!0}},function(t,e){t.exports=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}},function(t,e,r){var n=r(391),o=r(275),c=r(308),l=r(399),f=Object.prototype,h=f.hasOwnProperty,d=n((function(object,t){object=Object(object);var e=-1,r=t.length,n=r>2?t[2]:void 0;for(n&&c(t[0],t[1],n)&&(r=1);++e<r;)for(var source=t[e],d=l(source),y=-1,v=d.length;++y<v;){var _=d[y],m=object[_];(void 0===m||o(m,f[_])&&!h.call(object,_))&&(object[_]=source[_])}return object}));t.exports=d},function(t,e,r){var n=r(307),o=r(392),c=r(394);t.exports=function(t,e){return c(o(t,e,n),t+"")}},function(t,e,r){var n=r(393),o=Math.max;t.exports=function(t,e,r){return e=o(void 0===e?t.length-1:e,0),function(){for(var c=arguments,l=-1,f=o(c.length-e,0),h=Array(f);++l<f;)h[l]=c[e+l];l=-1;for(var d=Array(e+1);++l<e;)d[l]=c[l];return d[e]=r(h),n(t,this,d)}}},function(t,e){t.exports=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}},function(t,e,r){var n=r(395),o=r(398)(n);t.exports=o},function(t,e,r){var n=r(396),o=r(397),c=r(307),l=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:n(e),writable:!0})}:c;t.exports=l},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,r){var n=r(256),o=function(){try{var t=n(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=o},function(t,e){var r=Date.now;t.exports=function(t){var e=0,n=0;return function(){var o=r(),c=16-(o-n);if(n=o,c>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,r){var n=r(305),o=r(400),c=r(262);t.exports=function(object){return c(object)?n(object,!0):o(object)}},function(t,e,r){var n=r(261),o=r(276),c=r(401),l=Object.prototype.hasOwnProperty;t.exports=function(object){if(!n(object))return c(object);var t=o(object),e=[];for(var r in object)("constructor"!=r||!t&&l.call(object,r))&&e.push(r);return e}},function(t,e){t.exports=function(object){var t=[];if(null!=object)for(var e in Object(object))t.push(e);return t}},function(t,e,r){var n=r(255).isFinite;t.exports=function(t){return"number"==typeof t&&n(t)}},function(t,e,r){var n=r(257),o=r(260);t.exports=function(t){return!0===t||!1===t||o(t)&&"[object Boolean]"==n(t)}},function(t,e){t.exports=function(t){return null==t}},function(t,e,r){var n=r(406),o=r(308),c=r(310),l=parseFloat,f=Math.min,h=Math.random;t.exports=function(t,e,r){if(r&&"boolean"!=typeof r&&o(t,e,r)&&(e=r=void 0),void 0===r&&("boolean"==typeof e?(r=e,e=void 0):"boolean"==typeof t&&(r=t,t=void 0)),void 0===t&&void 0===e?(t=0,e=1):(t=c(t),void 0===e?(e=t,t=0):e=c(e)),t>e){var d=t;t=e,e=d}if(r||t%1||e%1){var y=h();return f(t+y*(e-t+l("1e-"+((y+"").length-1))),e)}return n(t,e)}},function(t,e){var r=Math.floor,n=Math.random;t.exports=function(t,e){return t+r(n()*(e-t+1))}},function(t,e,r){var n=r(408),o=/^\s+/;t.exports=function(t){return t?t.slice(0,n(t)+1).replace(o,""):t}},function(t,e){var r=/\s/;t.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},function(t,e,r){var n=r(410),o=r(411)(n);t.exports=o},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,r){var n=r(277);t.exports=function(t){return function(e,r){return"string"==typeof e&&"string"==typeof r||(e=n(e),r=n(r)),t(e,r)}}},function(t,e,r){var n=r(258);t.exports=function(t){return n(t).toUpperCase()}},function(t,e,r){var n=r(414),o=r(422)((function(t,e,r){return e=e.toLowerCase(),t+(r?n(e):e)}));t.exports=o},function(t,e,r){var n=r(258),o=r(415);t.exports=function(t){return o(n(t).toLowerCase())}},function(t,e,r){var n=r(416)("toUpperCase");t.exports=n},function(t,e,r){var n=r(417),o=r(311),c=r(419),l=r(258);t.exports=function(t){return function(e){e=l(e);var r=o(e)?c(e):void 0,f=r?r[0]:e.charAt(0),h=r?n(r,1).join(""):e.slice(1);return f[t]()+h}}},function(t,e,r){var n=r(418);t.exports=function(t,e,r){var o=t.length;return r=void 0===r?o:r,!e&&r>=o?t:n(t,e,r)}},function(t,e){t.exports=function(t,e,r){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),(r=r>o?o:r)<0&&(r+=o),o=e>r?0:r-e>>>0,e>>>=0;for(var c=Array(o);++n<o;)c[n]=t[n+e];return c}},function(t,e,r){var n=r(420),o=r(311),c=r(421);t.exports=function(t){return o(t)?c(t):n(t)}},function(t,e){t.exports=function(t){return t.split("")}},function(t,e){var r="[\\ud800-\\udfff]",n="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",c="[^\\ud800-\\udfff]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",h="(?:"+n+"|"+o+")"+"?",d="[\\ufe0e\\ufe0f]?",y=d+h+("(?:\\u200d(?:"+[c,l,f].join("|")+")"+d+h+")*"),v="(?:"+[c+n+"?",n,l,f,r].join("|")+")",_=RegExp(o+"(?="+o+")|"+v+y,"g");t.exports=function(t){return t.match(_)||[]}},function(t,e,r){var n=r(423),o=r(424),c=r(427),l=RegExp("['’]","g");t.exports=function(t){return function(e){return n(c(o(e).replace(l,"")),t,"")}}},function(t,e){t.exports=function(t,e,r,n){var o=-1,c=null==t?0:t.length;for(n&&c&&(r=t[++o]);++o<c;)r=e(r,t[o],o,t);return r}},function(t,e,r){var n=r(425),o=r(258),c=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,l=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");t.exports=function(t){return(t=o(t))&&t.replace(c,n).replace(l,"")}},function(t,e,r){var n=r(426)({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"});t.exports=n},function(t,e){t.exports=function(object){return function(t){return null==object?void 0:object[t]}}},function(t,e,r){var n=r(428),o=r(429),c=r(258),l=r(430);t.exports=function(t,pattern,e){return t=c(t),void 0===(pattern=e?void 0:pattern)?o(t)?l(t):n(t):t.match(pattern)||[]}},function(t,e){var r=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;t.exports=function(t){return t.match(r)||[]}},function(t,e){var r=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;t.exports=function(t){return r.test(t)}},function(t,e){var r="\\u2700-\\u27bf",n="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",c="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",l="["+c+"]",f="\\d+",h="[\\u2700-\\u27bf]",d="["+n+"]",y="[^\\ud800-\\udfff"+c+f+r+n+o+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",_="[\\ud800-\\udbff][\\udc00-\\udfff]",m="["+o+"]",O="(?:"+d+"|"+y+")",E="(?:"+m+"|"+y+")",S="(?:['’](?:d|ll|m|re|s|t|ve))?",A="(?:['’](?:D|LL|M|RE|S|T|VE))?",T="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",C="[\\ufe0e\\ufe0f]?",I=C+T+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",v,_].join("|")+")"+C+T+")*"),N="(?:"+[h,v,_].join("|")+")"+I,w=RegExp([m+"?"+d+"+"+S+"(?="+[l,m,"$"].join("|")+")",E+"+"+A+"(?="+[l,m+O,"$"].join("|")+")",m+"?"+O+"+"+S,m+"+"+A,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",f,N].join("|"),"g");t.exports=function(t){return t.match(w)||[]}},function(t,e,r){var n=r(258);t.exports=function(){var t=arguments,e=n(t[0]);return t.length<3?e:e.replace(t[1],t[2])}},function(t,e,r){var n=r(293),o=r(262),c=r(309),l=r(433),f=r(434),h=Math.max;t.exports=function(t,e,r,d){t=o(t)?t:f(t),r=r&&!d?l(r):0;var y=t.length;return r<0&&(r=h(y+r,0)),c(t)?r<=y&&t.indexOf(e,r)>-1:!!y&&n(t,e,r)>-1}},function(t,e,r){var n=r(310);t.exports=function(t){var e=n(t),r=e%1;return e==e?r?e-r:e:0}},function(t,e,r){var n=r(435),o=r(304);t.exports=function(object){return null==object?[]:n(object,o(object))}},function(t,e,r){var n=r(302);t.exports=function(object,t){return n(t,(function(t){return object[t]}))}},function(t,e){var r="undefined"!=typeof self?self:this,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),c="FormData"in t,l="ArrayBuffer"in t;if(l)var f=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&f.indexOf(Object.prototype.toString.call(t))>-1};function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function y(t){return"string"!=typeof t&&(t=String(t)),t}function v(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function _(t){this.map={},t instanceof _?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(header){this.append(header[0],header[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function m(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function O(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function E(t){var e=new FileReader,r=O(e);return e.readAsArrayBuffer(t),r}function S(t){if(t.slice)return t.slice(0);var view=new Uint8Array(t.byteLength);return view.set(new Uint8Array(t)),view.buffer}function A(){return this.bodyUsed=!1,this._initBody=function(body){var t;this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:o&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:c&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:r&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():l&&o&&((t=body)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=S(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(body)||h(body))?this._bodyArrayBuffer=S(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=m(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(E)}),this.text=function(){var t,e,r,n=m(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=O(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var view=new Uint8Array(t),e=new Array(view.length),i=0;i<view.length;i++)e[i]=String.fromCharCode(view[i]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}_.prototype.append=function(t,e){t=d(t),e=y(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},_.prototype.delete=function(t){delete this.map[d(t)]},_.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},_.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},_.prototype.set=function(t,e){this.map[d(t)]=y(e)},_.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},_.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),v(t)},_.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),v(t)},_.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),v(t)},n&&(_.prototype[Symbol.iterator]=_.prototype.entries);var T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function C(input,t){var e,r,body=(t=t||{}).body;if(input instanceof C){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,t.headers||(this.headers=new _(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new _(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),T.indexOf(r)>-1?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function I(body){var form=new FormData;return body.trim().split("&").forEach((function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");form.append(decodeURIComponent(r),decodeURIComponent(n))}})),form}function N(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new _(e.headers),this.url=e.url||"",this._initBody(t)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},A.call(C.prototype),A.call(N.prototype),N.prototype.clone=function(){return new N(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new _(this.headers),url:this.url})},N.error=function(){var t=new N(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];N.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new N(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function R(input,t){return new Promise((function(r,n){var c=new C(input,t);if(c.signal&&c.signal.aborted)return n(new e.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function f(){l.abort()}l.onload=function(){var t,e,n={status:l.status,statusText:l.statusText,headers:(t=l.getAllResponseHeaders()||"",e=new _,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var t=line.split(":"),r=t.shift().trim();if(r){var n=t.join(":").trim();e.append(r,n)}})),e)};n.url="responseURL"in l?l.responseURL:n.headers.get("X-Request-URL");var body="response"in l?l.response:l.responseText;r(new N(body,n))},l.onerror=function(){n(new TypeError("Network request failed"))},l.ontimeout=function(){n(new TypeError("Network request failed"))},l.onabort=function(){n(new e.DOMException("Aborted","AbortError"))},l.open(c.method,c.url,!0),"include"===c.credentials?l.withCredentials=!0:"omit"===c.credentials&&(l.withCredentials=!1),"responseType"in l&&o&&(l.responseType="blob"),c.headers.forEach((function(t,e){l.setRequestHeader(e,t)})),c.signal&&(c.signal.addEventListener("abort",f),l.onreadystatechange=function(){4===l.readyState&&c.signal.removeEventListener("abort",f)}),l.send(void 0===c._bodyInit?null:c._bodyInit)}))}R.polyfill=!0,t.fetch||(t.fetch=R,t.Headers=_,t.Request=C,t.Response=N),e.Headers=_,e.Request=C,e.Response=N,e.fetch=R,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e},function(t,e,r){(function(e){let r;void 0!==e&&void 0!==e.FormData?r=e.FormData:"undefined"!=typeof window&&void 0!==window.FormData?r=window.FormData:"undefined"!=typeof self&&void 0!==self.FormData&&(r=self.FormData),t.exports=r}).call(this,r(19))},function(t,e,r){"use strict";var n=r(439),o=r(448),c=r(281);t.exports={formats:c,parse:o,stringify:n}},function(t,e,r){"use strict";var n=r(440),o=r(312),c=r(281),l=Object.prototype.hasOwnProperty,f={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},h=Array.isArray,d=Array.prototype.push,y=function(t,e){d.apply(t,h(e)?e:[e])},v=Date.prototype.toISOString,_=c.default,m={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,format:_,formatter:c.formatters[_],indices:!1,serializeDate:function(t){return v.call(t)},skipNulls:!1,strictNullHandling:!1},O=function t(object,e,r,c,l,f,filter,d,v,_,O,E,S,A,T){var C,I=object;if(T.has(object))throw new RangeError("Cyclic object value");if("function"==typeof filter?I=filter(e,I):I instanceof Date?I=_(I):"comma"===r&&h(I)&&(I=o.maybeMap(I,(function(t){return t instanceof Date?_(t):t}))),null===I){if(c)return f&&!S?f(e,m.encoder,A,"key",O):e;I=""}if("string"==typeof(C=I)||"number"==typeof C||"boolean"==typeof C||"symbol"==typeof C||"bigint"==typeof C||o.isBuffer(I))return f?[E(S?e:f(e,m.encoder,A,"key",O))+"="+E(f(I,m.encoder,A,"value",O))]:[E(e)+"="+E(String(I))];var N,w=[];if(void 0===I)return w;if("comma"===r&&h(I))N=[{value:I.length>0?I.join(",")||null:void 0}];else if(h(filter))N=filter;else{var R=Object.keys(I);N=d?R.sort(d):R}for(var i=0;i<N.length;++i){var x=N[i],P="object"==typeof x&&void 0!==x.value?x.value:I[x];if(!l||null!==P){var j=h(I)?"function"==typeof r?r(e,x):e:e+(v?"."+x:"["+x+"]");T.set(object,!0);var D=n();y(w,t(P,j,r,c,l,f,filter,d,v,_,O,E,S,A,D))}}return w};t.exports=function(object,t){var e,r=object,o=function(t){if(!t)return m;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||m.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=c.default;if(void 0!==t.format){if(!l.call(c.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=c.formatters[r],filter=m.filter;return("function"==typeof t.filter||h(t.filter))&&(filter=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:m.addQueryPrefix,allowDots:void 0===t.allowDots?m.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:m.charsetSentinel,delimiter:void 0===t.delimiter?m.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:m.encode,encoder:"function"==typeof t.encoder?t.encoder:m.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:m.encodeValuesOnly,filter:filter,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:m.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:m.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:m.strictNullHandling}}(t);"function"==typeof o.filter?r=(0,o.filter)("",r):h(o.filter)&&(e=o.filter);var d,v=[];if("object"!=typeof r||null===r)return"";d=t&&t.arrayFormat in f?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var _=f[d];e||(e=Object.keys(r)),o.sort&&e.sort(o.sort);for(var E=n(),i=0;i<e.length;++i){var S=e[i];o.skipNulls&&null===r[S]||y(v,O(r[S],S,_,o.strictNullHandling,o.skipNulls,o.encode?o.encoder:null,o.filter,o.sort,o.allowDots,o.serializeDate,o.format,o.formatter,o.encodeValuesOnly,o.charset,E))}var A=v.join(o.delimiter),T=!0===o.addQueryPrefix?"?":"";return o.charsetSentinel&&("iso-8859-1"===o.charset?T+="utf8=%26%2310003%3B&":T+="utf8=%E2%9C%93&"),A.length>0?T+A:""}},function(t,e,r){"use strict";var n=r(278),o=r(445),c=r(447),l=n("%TypeError%"),f=n("%WeakMap%",!0),h=n("%Map%",!0),d=o("WeakMap.prototype.get",!0),y=o("WeakMap.prototype.set",!0),v=o("WeakMap.prototype.has",!0),_=o("Map.prototype.get",!0),m=o("Map.prototype.set",!0),O=o("Map.prototype.has",!0),E=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r};t.exports=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new l("Side channel does not contain "+c(t))},get:function(n){if(f&&n&&("object"==typeof n||"function"==typeof n)){if(t)return d(t,n)}else if(h){if(e)return _(e,n)}else if(r)return function(t,e){var r=E(t,e);return r&&r.value}(r,n)},has:function(n){if(f&&n&&("object"==typeof n||"function"==typeof n)){if(t)return v(t,n)}else if(h){if(e)return O(e,n)}else if(r)return function(t,e){return!!E(t,e)}(r,n);return!1},set:function(n,o){f&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new f),y(t,n,o)):h?(e||(e=new h),m(e,n,o)):(r||(r={key:{},next:null}),function(t,e,r){var n=E(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,o))}};return n}},function(t,e,r){"use strict";var n="undefined"!=typeof Symbol&&Symbol,o=r(442);t.exports=function(){return"function"==typeof n&&("function"==typeof Symbol&&("symbol"==typeof n("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},function(t,e,r){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},function(t,e,r){"use strict";var n="Function.prototype.bind called on incompatible ",o=Array.prototype.slice,c=Object.prototype.toString,l="[object Function]";t.exports=function(t){var e=this;if("function"!=typeof e||c.call(e)!==l)throw new TypeError(n+e);for(var r,f=o.call(arguments,1),h=function(){if(this instanceof r){var n=e.apply(this,f.concat(o.call(arguments)));return Object(n)===n?n:this}return e.apply(t,f.concat(o.call(arguments)))},d=Math.max(0,e.length-f.length),y=[],i=0;i<d;i++)y.push("$"+i);if(r=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(h),e.prototype){var v=function(){};v.prototype=e.prototype,r.prototype=new v,v.prototype=null}return r}},function(t,e,r){"use strict";var n=r(279);t.exports=n.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,r){"use strict";var n=r(278),o=r(446),c=o(n("String.prototype.indexOf"));t.exports=function(t,e){var r=n(t,!!e);return"function"==typeof r&&c(t,".prototype.")>-1?o(r):r}},function(t,e,r){"use strict";var n=r(279),o=r(278),c=o("%Function.prototype.apply%"),l=o("%Function.prototype.call%"),f=o("%Reflect.apply%",!0)||n.call(l,c),h=o("%Object.getOwnPropertyDescriptor%",!0),d=o("%Object.defineProperty%",!0),y=o("%Math.max%");if(d)try{d({},"a",{value:1})}catch(t){d=null}t.exports=function(t){var e=f(n,l,arguments);if(h&&d){var desc=h(e,"length");desc.configurable&&d(e,"length",{value:1+y(0,t.length-(arguments.length-1))})}return e};var v=function(){return f(n,c,arguments)};d?d(t.exports,"apply",{value:v}):t.exports.apply=v},function(t,e,r){var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,c=n&&o&&"function"==typeof o.get?o.get:null,l=n&&Map.prototype.forEach,f="function"==typeof Set&&Set.prototype,h=Object.getOwnPropertyDescriptor&&f?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,d=f&&h&&"function"==typeof h.get?h.get:null,y=f&&Set.prototype.forEach,v="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,_="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,m="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,O=Boolean.prototype.valueOf,E=Object.prototype.toString,S=Function.prototype.toString,A=String.prototype.match,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,C=Object.getOwnPropertySymbols,I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,N="function"==typeof Symbol&&"object"==typeof Symbol.iterator,w=Object.prototype.propertyIsEnumerable,R=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),x=r(280).custom,P=x&&M(x)?x:null,j="function"==typeof Symbol&&void 0!==Symbol.toStringTag?Symbol.toStringTag:null;function D(s,t,e){var r="double"===(e.quoteStyle||t)?'"':"'";return r+s+r}function U(s){return String(s).replace(/"/g,"&quot;")}function L(t){return!("[object Array]"!==B(t)||j&&"object"==typeof t&&j in t)}function M(t){if(N)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!I)return!1;try{return I.call(t),!0}catch(t){}return!1}t.exports=function t(e,r,n,o){var f=r||{};if(k(f,"quoteStyle")&&"single"!==f.quoteStyle&&"double"!==f.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(k(f,"maxStringLength")&&("number"==typeof f.maxStringLength?f.maxStringLength<0&&f.maxStringLength!==1/0:null!==f.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!k(f,"customInspect")||f.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(k(f,"indent")&&null!==f.indent&&"\t"!==f.indent&&!(parseInt(f.indent,10)===f.indent&&f.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return G(e,f);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var E=void 0===f.depth?5:f.depth;if(void 0===n&&(n=0),n>=E&&E>0&&"object"==typeof e)return L(e)?"[Array]":"[Object]";var C=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Array(t.indent+1).join(" ")}return{base:r,prev:Array(e+1).join(r)}}(f,n);if(void 0===o)o=[];else if(H(o,e)>=0)return"[Circular]";function w(e,r,c){if(r&&(o=o.slice()).push(r),c){var l={depth:f.depth};return k(f,"quoteStyle")&&(l.quoteStyle=f.quoteStyle),t(e,l,n+1,o)}return t(e,f,n+1,o)}if("function"==typeof e){var x=function(t){if(t.name)return t.name;var e=A.call(S.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),F=$(e,w);return"[Function"+(x?": "+x:" (anonymous)")+"]"+(F.length>0?" { "+F.join(", ")+" }":"")}if(M(e)){var W=N?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):I.call(e);return"object"!=typeof e||N?W:z(W)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var s="<"+String(e.nodeName).toLowerCase(),K=e.attributes||[],i=0;i<K.length;i++)s+=" "+K[i].name+"="+D(U(K[i].value),"double",f);return s+=">",e.childNodes&&e.childNodes.length&&(s+="..."),s+="</"+String(e.nodeName).toLowerCase()+">"}if(L(e)){if(0===e.length)return"[]";var Z=$(e,w);return C&&!function(t){for(var i=0;i<t.length;i++)if(H(t[i],"\n")>=0)return!1;return!0}(Z)?"["+J(Z,C)+"]":"[ "+Z.join(", ")+" ]"}if(function(t){return!("[object Error]"!==B(t)||j&&"object"==typeof t&&j in t)}(e)){var Q=$(e,w);return 0===Q.length?"["+String(e)+"]":"{ ["+String(e)+"] "+Q.join(", ")+" }"}if("object"==typeof e&&h){if(P&&"function"==typeof e[P])return e[P]();if("symbol"!==h&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{d.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var X=[];return l.call(e,(function(t,r){X.push(w(r,e,!0)+" => "+w(t,e))})),Y("Map",c.call(e),X,C)}if(function(t){if(!d||!t||"object"!=typeof t)return!1;try{d.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var tt=[];return y.call(e,(function(t){tt.push(w(t,e))})),Y("Set",d.call(e),tt,C)}if(function(t){if(!v||!t||"object"!=typeof t)return!1;try{v.call(t,v);try{_.call(t,_)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return V("WeakMap");if(function(t){if(!_||!t||"object"!=typeof t)return!1;try{_.call(t,_);try{v.call(t,v)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return V("WeakSet");if(function(t){if(!m||!t||"object"!=typeof t)return!1;try{return m.call(t),!0}catch(t){}return!1}(e))return V("WeakRef");if(function(t){return!("[object Number]"!==B(t)||j&&"object"==typeof t&&j in t)}(e))return z(w(Number(e)));if(function(t){if(!t||"object"!=typeof t||!T)return!1;try{return T.call(t),!0}catch(t){}return!1}(e))return z(w(T.call(e)));if(function(t){return!("[object Boolean]"!==B(t)||j&&"object"==typeof t&&j in t)}(e))return z(O.call(e));if(function(t){return!("[object String]"!==B(t)||j&&"object"==typeof t&&j in t)}(e))return z(w(String(e)));if(!function(t){return!("[object Date]"!==B(t)||j&&"object"==typeof t&&j in t)}(e)&&!function(t){return!("[object RegExp]"!==B(t)||j&&"object"==typeof t&&j in t)}(e)){var et=$(e,w),nt=R?R(e)===Object.prototype:e instanceof Object||e.constructor===Object,ot=e instanceof Object?"":"null prototype",it=!nt&&j&&Object(e)===e&&j in e?B(e).slice(8,-1):ot?"Object":"",st=(nt||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(it||ot?"["+[].concat(it||[],ot||[]).join(": ")+"] ":"");return 0===et.length?st+"{}":C?st+"{"+J(et,C)+"}":st+"{ "+et.join(", ")+" }"}return String(e)};var F=Object.prototype.hasOwnProperty||function(t){return t in this};function k(t,e){return F.call(t,e)}function B(t){return E.call(t)}function H(t,e){if(t.indexOf)return t.indexOf(e);for(var i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1}function G(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return G(t.slice(0,e.maxStringLength),e)+n}return D(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,W),"single",e)}function W(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function z(t){return"Object("+t+")"}function V(t){return t+" { ? }"}function Y(t,e,r,n){return t+" ("+e+") {"+(n?J(r,n):r.join(", "))+"}"}function J(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+t.join(","+r)+"\n"+e.prev}function $(t,e){var r=L(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=k(t,i)?e(t[i],t):""}var o,c="function"==typeof C?C(t):[];if(N){o={};for(var l=0;l<c.length;l++)o["$"+c[l]]=c[l]}for(var f in t)k(t,f)&&(r&&String(Number(f))===f&&f<t.length||N&&o["$"+f]instanceof Symbol||(/[^\w$]/.test(f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t))));if("function"==typeof C)for(var h=0;h<c.length;h++)w.call(t,c[h])&&n.push("["+e(c[h])+"]: "+e(t[c[h]],t));return n}},function(t,e,r){"use strict";var n=r(312),o=Object.prototype.hasOwnProperty,c=Array.isArray,l={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},f=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},h=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},d=function(t,e,r,n){if(t){var c=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,l=/(\[[^[\]]*])/g,f=r.depth>0&&/(\[[^[\]]*])/.exec(c),d=f?c.slice(0,f.index):c,y=[];if(d){if(!r.plainObjects&&o.call(Object.prototype,d)&&!r.allowPrototypes)return;y.push(d)}for(var i=0;r.depth>0&&null!==(f=l.exec(c))&&i<r.depth;){if(i+=1,!r.plainObjects&&o.call(Object.prototype,f[1].slice(1,-1))&&!r.allowPrototypes)return;y.push(f[1])}return f&&y.push("["+c.slice(f.index)+"]"),function(t,e,r,n){for(var o=n?e:h(e,r),i=t.length-1;i>=0;--i){var c,l=t[i];if("[]"===l&&r.parseArrays)c=[].concat(o);else{c=r.plainObjects?Object.create(null):{};var f="["===l.charAt(0)&&"]"===l.charAt(l.length-1)?l.slice(1,-1):l,d=parseInt(f,10);r.parseArrays||""!==f?!isNaN(d)&&l!==f&&String(d)===f&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(c=[])[d]=o:c[f]=o:c={0:o}}o=c}return o}(y,e,r,n)}};t.exports=function(t,e){var r=function(t){if(!t)return l;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?l.charset:t.charset;return{allowDots:void 0===t.allowDots?l.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:l.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:l.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:l.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:l.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:l.comma,decoder:"function"==typeof t.decoder?t.decoder:l.decoder,delimiter:"string"==typeof t.delimiter||n.isRegExp(t.delimiter)?t.delimiter:l.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:l.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:l.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:l.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:l.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:l.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var y="string"==typeof t?function(t,e){var i,r={},d=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,y=e.parameterLimit===1/0?void 0:e.parameterLimit,v=d.split(e.delimiter,y),_=-1,m=e.charset;if(e.charsetSentinel)for(i=0;i<v.length;++i)0===v[i].indexOf("utf8=")&&("utf8=%E2%9C%93"===v[i]?m="utf-8":"utf8=%26%2310003%3B"===v[i]&&(m="iso-8859-1"),_=i,i=v.length);for(i=0;i<v.length;++i)if(i!==_){var O,E,S=v[i],A=S.indexOf("]="),T=-1===A?S.indexOf("="):A+1;-1===T?(O=e.decoder(S,l.decoder,m,"key"),E=e.strictNullHandling?null:""):(O=e.decoder(S.slice(0,T),l.decoder,m,"key"),E=n.maybeMap(h(S.slice(T+1),e),(function(t){return e.decoder(t,l.decoder,m,"value")}))),E&&e.interpretNumericEntities&&"iso-8859-1"===m&&(E=f(E)),S.indexOf("[]=")>-1&&(E=c(E)?[E]:E),o.call(r,O)?r[O]=n.combine(r[O],E):r[O]=E}return r}(t,r):t,v=r.plainObjects?Object.create(null):{},_=Object.keys(y),i=0;i<_.length;++i){var m=_[i],O=d(m,y[m],r,"string"==typeof t);v=n.merge(v,O,r)}return!0===r.allowSparse?v:n.compact(v)}},function(t,e){t.exports=function(t){return void 0===t}}])]);